## 1 登出
PATH: `{BASE_URL}/user/logout/`  
Method: GET/POST  
说明：退出登录接口

请求参数:  

| 字段  |  类型  | 是否必须 | 默认值 | 说明  |
|:------|:------:|:--------:|:------:|:------|
| token | string |    是    |   无   | token |

返回值：无


## 2 读取指定任务的issue列表（增量接口） - issue_list
### API概述
|                     功能                    |             路径            | HTTP方法 |
|---------------------------------------------|-----------------------------|----------|
| 读取指定任务的issue列表（增量接口）         | /api/houseqm/issue_list/    | GET      |
| 读取指定任务与我相关的issue列表（增量接口） | /api/houseqm/my_issue_list/ | GET      |

### 请求协议
|  字段名   | 类型 | 是否必填 |               描述              |
| --------- | ---- | -------- | ------------------------------- |
| task_id   | 整型 | 是       | 任务ID，多个请用半角逗号“,”分隔 |
| timestamp | 整型 | 是       | 上次更新时间                    |
| last_id   | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |
### 响应协议
|             字段名             |    类型    | 是否必填 |                                                                    描述                                                                   |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                                        |
| message                        | 字符串     | 否       | 错误信息                                                                                                                                  |
| data                           | 结构体     | 否       | 结果数据                                                                                                                                  |
| --issue_list                   | 结构体数组 | 否       | issue_list                                                                                                                                |
| ----id                         | 整型       | 是       | ID                                                                                                                                        |
| ----project_id                 | 整型       | 是       | 项目ID                                                                                                                                    |
| ----task_id                    | 整型       | 是       | 任务ID                                                                                                                                    |
| ----Uuid                       | 字符串     | 是       | 问题Uuid                                                                                                                                  |
| ----sender_id                  | 整型       | 是       | 提交人user_id                                                                                                                             |
| ----plan_end_on                | 整型       | 是       | 计划整改完成时间                                                                                                                          |
| ----end_on                     | 整型       | 是       | 实际整改完成时间                                                                                                                          |
| ----area_id                    | 整型       | 是       | 区域ID                                                                                                                                    |
| ----area_path_and_id           | 字符串     | 是       | 区域路径和id                                                                                                                              |
| ----category_cls               | 整型       | 是       | 模块类型，详见3.1                                                                                                                         |
| ----category_key               | 字符串     | 是       | 任务类型key                                                                                                                               |
| ----category_path_and_key      | 字符串     | 是       | 任务类型路径和Key                                                                                                                         |
| ----check_item_key             | 字符串     | 是       | 检查项key                                                                                                                                 |
| ----check_item_path_and_key    | 字符串     | 是       | 检查项路径和key                                                                                                                           |
| ----drawing_md5                | 字符串     | 是       | 图纸文件MD5                                                                                                                               |
| ----pos_x                      | 整型       | 是       | 在图纸上的位置X                                                                                                                           |
| ----pos_y                      | 整型       | 是       | 在图纸上的位置Y                                                                                                                           |
| ----title                      | 字符串     | 是       | 问题标题                                                                                                                                  |
| ----typ                        | 整型       | 是       | 99 普通记录；1 问题记录                                                                                                                   |
| ----content                    | 字符串     | 是       | 问题描述                                                                                                                                  |
| ----condition                  | 整型       | 是       | 问题严重程度  1 严重 2 较差 3 轻微                                                                                                        |
| ----status                     | 整型       | 是       | 整改状态：当前issue状态 10 没有问题 20 已记录未分配 30 已分配未整改 50 已整改未审核 60 已审核（消项） 70已取消 6=整改中（介乎于2和3之间） |
| ----attachment_md5_list        | 字符串     | 是       | 产生Issue时的现场照片，多个用半角逗号“,”分隔                                                                                              |
| ----audio_md5_list             | 字符串     | 是       | 产生Issue时的现场录音，多个用半角逗号“,”分隔                                                                                              |
| ----client_create_at           | 整型       | 是       | 客户端记录时间                                                                                                                            |
| ----last_assigner              | 整型       | 是       | 最后指派人                                                                                                                                |
| ----last_assigner_at           | 整型       | 是       | 最后指派时间                                                                                                                              |
| ----last_repairer              | 整型       | 是       | 最后整改人                                                                                                                                |
| ----last_repairer_at           | 整型       | 是       | 最后整改时间                                                                                                                              |
| ----destroy_user               | 整型       | 是       | 最后消项人                                                                                                                                |
| ----destroy_at                 | 整型       | 是       | 最后消项时间                                                                                                                              |
| ----delete_user                | 整型       | 是       | 删除人                                                                                                                                    |
| ----delete_time                | 整型       | 是       | 删除时间                                                                                                                                  |
| ----repairer_id                | 整型       | 是       | 整改人负责人user_id                                                                                                                       |
| ----repairer_follower_ids      | 字符串     | 是       | 整改人跟进人user_ids                                                                                                                      |
| ----detail                     | 结构体     | 是       | 其它数据                                                                                                                                  |
| ------issue_reason             | 整型       | 是       | 产生问题的原因，需要检索project_setting表此project的PROJ_ISSUE_REASON_LIST记录                                                            |
| ------issue_reason_detail      | 字符串     | 是       | 产生问题原因的文字描述                                                                                                                    |
| ------issue_suggest            | 字符串     | 是       | 措施建议                                                                                                                                  |
| ------potential_risk           | 字符串     | 是       | 潜在风险                                                                                                                                  |
| ------preventive_action_detail | 字符串     | 是       | 预防措施                                                                                                                                  |
| --last_id                      | 整型       | 是       | 上次获取的最后ID，首次拉取传`0` 


## 3 读取指定任务的issue_log列表（增量接口） - issue_log_list
### API概述
|                   功能                  |             路径             | HTTP方法 |
| --------------------------------------- | ---------------------------- | -------- |
| 读取指定任务的issue_log列表（增量接口） | /api/houseqm/issue_log_list/ | GET      |
| 读取指定任务与我相关的issue_log列表（增量接口） | /api/houseqm/my_issue_log_list/ | GET      |

### 请求协议
|  字段名   | 类型 | 是否必填 |               描述              |
| --------- | ---- | -------- | ------------------------------- |
| task_id   | 整型 | 是       | 任务ID，多个请用半角逗号“,”分隔 |
| timestamp | 整型 | 是       | 上次更新时间                    |
| last_id   | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |
### 响应协议
|             字段名             |    类型    | 是否必填 |                                                           描述                                                          |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                      |
| message                        | 字符串     | 否       | 错误信息                                                                                                                |
| data                           | 结构体     | 否       | 结果数据                                                                                                                |
| --issue_list                   | 结构体数组 | 否       | issue_list                                                                                                              |
| ----id                         | 整型       | 是       | ID                                                                                                                      |
| ----project_id                 | 整型       | 是       | 项目ID                                                                                                                  |
| ----task_id                    | 整型       | 是       | 任务ID                                                                                                                  |
| ----uuid                       | 字符串     | 是       | Uuid                                                                                                                    |
| ----issue_uid                  | 字符串     | 是       | 问题Uuid                                                                                                                |
| ----sender_id                  | 整型       | 是       | 提交人user_id                                                                                                           |
| ----desc                       | 字符串     | 是       | 问题描述                                                                                                                |
| ----status                     | 整型       | 是       | 整改状态：当前issue状态 10 没有问题 20 已记录未分配 30 已分配未整改 40=整改中 50 已整改未审核 60已审核（消项） 70已取消 |
| ----attachment_md5_list        | 字符串     | 是       | 产生Issue时的现场照片，多个用半角逗号“,”分隔                                                                            |
| ----audio_md5_list             | 字符串     | 是       | 产生Issue时的现场录音，多个用半角逗号“,”分隔                                                                            |
| ----client_create_at           | 整型       | 是       | 客户端记录时间                                                                                                          |
| ----detail                     | 结构体     | 是       | 其它数据                                                                                                                |
| ------title                    | 字符串     | 是       | 问题标题                                                                                                                |
| ------area_id                  | 整型       | 是       | 区域ID                                                                                                                  |
| ------pos_x                    | 整型       | 是       | 在图纸上的位置X                                                                                                         |
| ------pos_y                    | 整型       | 是       | 在图纸上的位置Y                                                                                                         |
| ------typ                      | 整型       | 是       | 99 普通记录；1 问题记录                                                                                                 |
| ------plan_end_on              | 整型       | 是       | 计划整改完成时间                                                                                                        |
| ------end_on                   | 整型       | 是       | 实际整改完成时间                                                                                                        |
| ------repairer_id              | 整型       | 是       | 整改人负责人user_id                                                                                                     |
| ------repairer_follower_ids    | 字符串     | 是       | 整改人跟进人user_ids                                                                                                    |
| ------condition                | 整型       | 是       | 问题严重程度  1 严重 2 较差 3 轻微                                                                                      |
| ------category_cls             | 整型       | 是       | 任务模块                                                                                                                |
| ------category_key             | 字符串     | 是       | 任务类型key                                                                                                             |
| ------drawing_md5              | 字符串     | 是       | 图纸MD5                                                                                                                 |
| ------check_item_key           | 字符串     | 是       | 检查项key                                                                                                               |
| ------issue_reason             | 整型       | 是       | 产生问题的原因，需要检索project_setting表此project的PROJ_ISSUE_REASON_LIST记录                                          |
| ------issue_reason_detail      | 字符串     | 是       | 产生问题原因的文字描述                                                                                                  |
| ------issue_suggest            | 字符串     | 是       | 措施建议                                                                                                                |
| ------potential_risk           | 字符串     | 是       | 潜在风险                                                                                                                |
| ------preventive_action_detail | 字符串     | 是       | 预防措施                                                                                                                |
| ------memo_audio_md5_list      | 字符串     | 是       | 备忘录录音md5，多个用半角逗号“,”分隔                                                                                    |
| --last_id                      | 整型       | 是       | 本次获取的最后ID   

## 4 读取指定任务的issue人员列表（增量接口） - issue_members
### API概述
|                   功能                  |             路径            | HTTP方法 |
| --------------------------------------- | --------------------------- | -------- |
| 读取指定任务的issue人员列表（增量接口） | /api/houseqm/issue_members/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |               描述              |
| --------- | ---- | -------- | ------------------------------- |
| task_id   | 整型 | 是       | 任务ID，多个请用半角逗号“,”分隔 |
| timestamp | 整型 | 是       | 上次更新时间                    |
| last_id   | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |
### 响应协议
|    字段名     |    类型    | 是否必填 |                       描述                      |
| ------------- | ---------- | -------- | ----------------------------------------------- |
| result        | 整型       | 是       | 结果.0成功,非0失败                              |
| message       | 字符串     | 否       | 错误信息                                        |
| data          | 结构体     | 否       | 结果数据                                        |
| --member_list | 结构体数组 | 否       | member_list                                     |
| ----id        | 整型       | 是       | ID                                              |
| ----user_id   | 整型       | 是       | 用户id                                          |
| ----role_type | 整型       | 是       | 角色类型  10=检查人 20=整改负责人 30=整改跟进人 |
| ----task_id   | 整型       | 是       | 任务ID                                          |
| ----IssueUuid | 字符串     | 是       | 问题Uuid                                        |
| ----update_at | 整型       | 是       | 更新时间                                        |
| ----delete_at | 整型       | 是       | 删除时间(0表示未删除)                           |
| --last_id     | 整型       | 是       | 本次获取的最后ID                                                                                                        |


## 5 读取与我相关的issue附件 - my_issue_attachment_list
### API概述
|           功能          |                  路径                  | HTTP方法 |
|-------------------------|----------------------------------------|----------|
| 读取与我相关的issue附件 | /api/houseqm/my_issue_attachment_list/ | GET      |

### 请求协议
|  字段名   | 类型 | 是否必填 |               描述              |
|-----------|------|----------|---------------------------------|
| task_id   | 整型 | 是       | 任务ID，多个请用半角逗号“,”分隔 |
| timestamp | 整型 | 是       | 上次更新时间                    |
| last_id   | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |

### 响应协议
|       字段名        |    类型    | 是否必填 |           描述           |
|---------------------|------------|----------|--------------------------|
| result              | 整型       | 是       | 结果.0成功,非0失败       |
| message             | 字符串     | 否       | 错误信息                 |
| data                | 结构体     | 否       | 结果数据                 |
| --attachment_list   | 结构体数组 | 否       | attachment_list          |
| ----id              | 整型       | 是       | ID                       |
| ----project_id      | 整型       | 是       | 项目ID                   |
| ----task_id         | 整型       | 是       | 任务ID                   |
| ----issue_uuid      | 字符串     | 是       | 问题Uuid                 |
| ----user_id         | 整型       | 是       | 用户id                   |
| ----public_type     | 整型       | 是       | 公开类型 10=公有 20=私有 |
| ----attachment_type | 整型       | 是       | 附件类型 10=音频         |
| ----md5             | 字符串     | 是       | 附件md5                  |
| ----status          | 整型       | 是       | 状态 1=可用 2=删除       |
| ----update_at       | 整型       | 是       | 更新时间                 |
| ----delete_at       | 整型       | 是       | 删除时间(0表示未删除)    |
| --last_id           | 整型       | 是       | 本次获取的最后ID         |

## 6 区域列表
PATH: `{BASE_URL}/info/area_v2/`  
Method: GET
说明：读取指定项目所有区域，此为增量接口

请求参数:  

|    字段    |  类型  | 是否必须 | 默认值 |                说明               |
| :--------- | :----: | :------: | :----: | :-------------------------------- |
| project_id | string |    是    |   无   | 项目ID，多可id请用半角逗号“,”分隔 |
| timestamp  |  int   |    是    |   无   | 上次更新时间                      |

返回值：

| 字段          |    类型     | 说明                                                        |
|:--------------|:-----------:|:------------------------------------------------------------|
| area          | struct list | 区域列表                                                    |
| - id          |     int     | ID                                                          |
| - project_id  |     int     | 项目ID                                                      |
| - father_id   |     int     | 父级ID                                                      |
| - name        |   string    | 区域名称                                                    |
| - path        |   string    | 区域路径                                                    |
| - type        |     int     | 区域类型：1，公区；2，楼栋；3，层；4，户；5，房间；99，其它 |
| - drawing_md5 |   string    | 图纸文件MD5                                                 |
| - location    |   string    | 子区域多边形坐标集，必须闭合：格式：` x1,y1|x2,y2|x3,y3… `  |
| - update_at   |     int     | 更新时间                                                    |
| - delate_at   |     int     | 删除时间(`0`表示未删除)                                     |

## 7 读取检查附件表 - check_item_attachment
### API概述
|      功能      |               路径               | HTTP方法 |
| -------------- | -------------------------------- | -------- |
| 读取检查附件表 | /api/info/check_item_attachment/ | GET      |
### 请求协议
|    字段名    | 类型 | 是否必填 |               描述              |
| ------------ | ---- | -------- | ------------------------------- |
| team_id      | 整型 | 是       | 集团ID                          |
| category_cls | 整型 | 是       | 上次更新时间                    |
| timestamp    | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |
### 响应协议
|        字段名         |    类型    | 是否必填 |                    描述                   |
| --------------------- | ---------- | -------- | ----------------------------------------- |
| result                | 整型       | 是       | 结果.0成功,非0失败                        |
| message               | 字符串     | 否       | 错误信息                                  |
| data                  | 结构体     | 否       | 结果数据                                  |
| --attachment_list     | 结构体数组 | 否       | attachment_list                           |
| ----id                | 整型       | 是       | ID                                        |
| ----team_id           | 整型       | 是       | 所属的公司ID                              |
| ----root_category_key | 字符串     | 是       | 项级任务类型分类                          |
| ----item_key          | 字符串     | 是       | 任务类型或检查项的key                     |
| ----item_type         | 整型       | 是       | 1=任务类型(category) 2=检查项(check_item) |
| ----typ               | 整型       | 是       | 1=默认类型                                |
| ----file_uuid         | 字符串     | 是       | 附件文件UUID                              |
| ----desc              | 字符串     | 是       | 描述                                      |
| ----update_at         | 整型       | 是       | 更新时间                                  |
| ----delete_at         | 整型       | 是       | 删除时间           

## 8 文件上传
PATH: `{BASE_URL}/file/upload/`  
Method: POST
说明：上报文件

请求参数:  

| 字段     |  类型  | 是否必须 | 默认值 | 说明             |
|:---------|:------:|:--------:|:------:|:-----------------|
| md5      | string |    是    |   无   | 文件的MD5值      |
| userfile |  file  |    是    |   无   | 具体要上传的文件 |

返回值：无


## 9. 读取检查附件表 - check_item_attachment
### API概述
|      功能      |               路径               | HTTP方法 |
| -------------- | -------------------------------- | -------- |
| 读取检查附件表 | /api/info/check_item_attachment/ | GET      |
### 请求协议
|    字段名    | 类型 | 是否必填 |               描述              |
| ------------ | ---- | -------- | ------------------------------- |
| team_id      | 整型 | 是       | 集团ID                          |
| category_cls | 整型 | 是       | 上次更新时间                    |
| timestamp    | 整型 | 是       | 上次获取的最后ID，首次拉取传`0` |
### 响应协议
|        字段名         |    类型    | 是否必填 |                    描述                   |
| --------------------- | ---------- | -------- | ----------------------------------------- |
| result                | 整型       | 是       | 结果.0成功,非0失败                        |
| message               | 字符串     | 否       | 错误信息                                  |
| data                  | 结构体     | 否       | 结果数据                                  |
| --attachment_list     | 结构体数组 | 否       | attachment_list                           |
| ----id                | 整型       | 是       | ID                                        |
| ----team_id           | 整型       | 是       | 所属的公司ID                              |
| ----root_category_key | 字符串     | 是       | 项级任务类型分类                          |
| ----item_key          | 字符串     | 是       | 任务类型或检查项的key                     |
| ----item_type         | 整型       | 是       | 1=任务类型(category) 2=检查项(check_item) |
| ----typ               | 整型       | 是       | 1=默认类型                                |
| ----file_uuid         | 字符串     | 是       | 附件文件UUID                              |
| ----desc              | 字符串     | 是       | 描述                                      |
| ----update_at         | 整型       | 是       | 更新时间                                  |
| ----delete_at         | 整型       | 是       | 删除时间                                  |

## 10 检验批列表
PATH: `{BASE_URL}/info/inspection_lot/`  
Method: GET
说明：读取指定项目的所有检验批，此为全量接口

请求参数:  

| 字段       |  类型  | 是否必须 | 默认值 | 说明                              |
|:-----------|:------:|:--------:|:------:|:----------------------------------|
| project_id | string |    是    |   无   | 项目ID，多可id请用半角逗号“,”分隔 |

返回值：

|         字段        |     类型    |                    说明                   |
| :------------------ | :---------: | :---------------------------------------- |
| inspection_lot      | struct list | 检验批列表                                |
| - id                |     int     | ID                                        |
| - project_id        |     int     | 项目ID                                    |
| - name              |    string   | 检验批名                                  |
| - desc              |    string   | 检验批描述                                |
| - area_ids          |    string   | 区域Id组合，前后都用,隔开。如：,15,76,85, |
| - area_path_and_ids |    string   | 各个区域的path，用,隔开                   |
| - update_at         |     int     | 更新时间                                  |
| - delate_at         |     int     | 删除时间(`0`表示未删除)                   |



## 11 获取与“我”相关的关键工序任务
PATH: `{BASE_URL}/key_procedure/my_task/`  
Method: GET
说明：读取指定项目下，与我相关的关键工序任务。此为全量接口

请求参数:

| 字段       |  类型  | 是否必须 | 默认值 | 说明                              |
|:-----------|:------:|:--------:|:------:|:----------------------------------|
| project_id | string |    是    |   无   | 项目ID，多可id请用半角逗号“,”分隔 |


返回值：

| 字段                     |    类型     | 说明                                                             |
|:-------------------------|:-----------:|:-----------------------------------------------------------------|
| task_list                | struct list | 任务列表                                                         |
| - id                     |     int     | ID                                                               |
| - project_id             |     int     | project_id                                                       |
| - big_task_id            |     int     | 大任务ID                                                         |
| - production_manager_id  |     int     | 生产经理ID                                                       |
| - person_in_charge_id    |     int     | 负责人ID                                                         |
| - inspection_lot_id      |     int     | 检验批ID                                                         |
| - category_key           |   string    | 任务类型ID                                                       |
| - work_status            |     int     | 施工状态 1=未开始 2=施工中 3=报验 4=施工完成                     |
| - check_status           |     int     | 检查状态 1=未开始 2=检查中 3=检查通过 4=检查不通过(基本不会出现) |
| - spot_check_status      |     int     | 抽检状态 1=未抽查 3=抽查通过 4=抽查驳回(基本不会出现)            |
| - last_spot_check_status |     int     | 上次抽查状态 1=未抽查 3=抽查通过 4=抽查驳回                      |
| - check_reject_count     |     int     | 检查驳回次数 初始为0                                             |
| - spot_check_count       |     int     | 抽检驳回次数 初始为0                                             |
| - plan_start_on          |     int     | 计划开始时间                                                     |
| - plan_end_on            |     int     | 计划完成时间                                                     |
| - update_at              |     int     | 更新时间                                                         |
| - delate_at              |     int     | 删除时间(`0`表示未删除)                                          |

## 12 获取文件下载地址
PATH: `{BASE_URL}/file/download/`  
Method: POST
说明：上报文件

请求参数:  

|   字段   |   类型  | 是否必须 | 默认值 |                        说明                       |
| :------- | :-----: | :------: | :----: | :------------------------------------------------ |
| md5_list |  string |    是    |   无   | md5值，多个用半角逗号“,”分隔                      |
| webp     | integer |    否    |   0    | 是否返回webp类型的下载地址，默认为0，即不返回     |
| width    | integer |    否    |  640   | 指定图片最大宽度，不传默认为640，传-1为不改变大小 |

返回值：

| 字段     |    类型     | 是否必须 | 默认值 | 说明     |
|:---------|:-----------:|:--------:|:------:|:---------|
| url_list | struct list |    是    |   无   | URL列表  |
| - md5    |   string    |    是    |   无   | MD5值    |
| - path   | string list |    是    |   无   | 下载地址 |

## 13 获取问题列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_issue_list/`  
Method: GET
说明：获取问题列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

|            字段            |     类型    |                               说明                               |
| :------------------------- | :---------: | :--------------------------------------------------------------- |
| last_id                    |     int     | 本次请求的最后一个ID，如为0则数据拉取完毕                        |
| issue_list                 | struct list | 问题列表                                                         |
| - id                       |     int     |                                                                  |
| - uuid                     |    string   | 产生issue的uuid日志记录                                          |
| - project_id               |     int     | 项目id                                                           |
| - category_key             |    string   | 任务类型key                                                      |
| - big_task_id              |     int     | 大任务id                                                         |
| - task_id                  |     int     | 任务id                                                           |
| - sender_id                |     int     | 提交人user_id                                                    |
| - repairer_id              |     int     | 整改人user_id                                                    |
| - area_id                  |     int     | 区域id                                                           |
| - area_path_and_id         |    string   | 区域路径及id                                                     |
| - inspection_lot_id        |     int     | 检验批id                                                         |
| - typ                      |     int     | 问题类型： 1普通问题 2难以整改问题 3重大问题 4普通记录(保留)     |
| - status                   |     int     | 状态：1 已记录未分配 2已分配未整改 3已整改未验收 4已验收 5已取消 |
| - plan_end_on              |     int     | 计划完成时间                                                     |
| - end_on                   |     int     | 完成时间                                                         |
| - check_item_code          |    string   | 检查项编码                                                       |
| - check_item_path_and_code |    string   | 检查项路径及编码                                                 |
| - drawing_md5              |    string   | 图纸文件Md5                                                      |
| - pos_x                    |     int     | 在图纸上的位置X                                                  |
| - pos_y                    |     int     | 在图纸上的位置Y                                                  |
| - desc                     |    string   | 问题描述                                                         |
| - condition                |     int     | 问题严重情况 1 严重 2 较差 3 轻微                                |
| - attachment_md5_list      |    string   | 产生Issue时的现场照片，多个用半角逗号“,”分隔                     |
| - last_assigner            |     int     | 最后指派人                                                       |
| - last_assigner_at         |     int     | 最后指派时间                                                     |
| - destroy_user             |     int     | 消项人                                                           |
| - destroy_at               |     int     | 消项时间                                                         |
| - delete_user              |     int     | 删除人                                                           |
| - delete_time              |     int     | 删除时间                                                         |
| - client_create_at         |     int     | 客户端记录时间                                                   |
| - create_at                |     int     |                                                                  |
| - update_at                |     int     |                                                                  |
| - delete_at                |     int     |                                                                  |

## 14 获取问题日志列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_issue_list_log/`  
Method: GET
说明：获取问题日志列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

|          字段         |     类型    |                                              说明                                             |
| :-------------------- | :---------: | :-------------------------------------------------------------------------------------------- |
| last_id               |     int     | 本次请求的最后一个ID，如为0则数据拉取完毕                                                     |
| issue_log_list        | struct list | 问题日志列表                                                                                  |
| - id                  |     int     |                                                                                               |
| - uuid                |    string   | 日志唯一标识                                                                                  |
| - project_id               |     int     | 项目id                                                                                        |
| - big_task_id         |     int     | 大任务id                                                                                      |
| - task_id             |     int     | 任务id                                                                                        |
| - issue_uuid          |    string   | 所属的issue的uuid                                                                             |
| - sender_id           |     int     | 提交人user_id                                                                                 |
| - desc                |    string   | 描述                                                                                          |
| - typ                 |     int     | 问题类型，只在创建问题时有效： 1普通问题 2难以整改问题 3重大问题 4普通记录(保留) 其它情况传-1 |
| - status              |     int     | 状态：1 已记录未分配 2已分配未整改 3已整改未验收 4已验收 5已取消                              |
| - attachment_md5_list |    string   | 现场照片md5，多个用半角逗号“,”分隔                                                            |
| - inspection_lot_id   |     int     | 检验批id                                                                                      |
| - plan_end_on         |     int     | 计划完成时间                                                                                  |
| - end_on              |     int     | 完成时间                                                                                      |
| - repairer_id         |     int     | 整改人user_id                                                                                 |
| - condition           |     int     | 严重程度                                                                                      |
| - check_item_code     |    string   | 检查项编码                                                                                    |
| - drawing_md5         |    string   | 图纸文件Md5                                                                                   |
| - pos_x               |     int     | 在图纸上的位置X                                                                               |
| - pos_y               |     int     | 在图纸上的位置Y                                                                               |
| - area_id             |     int     | 区域ID                                                                                        |
| - client_create_at    |     int     | 客户端记录时间                                                                                |
| - create_at           |     int     |                                                                                               |
| - update_at           |     int     |                                                                                               |
| - delete_at           |     int     |                                                                                               |

## 15 获取施工记录列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_work_task_list/`  
Method: GET
说明：获取施工记录列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

| 字段               | 类型        | 说明                                                           |
| :----------------- | :---------: | :------------------------------------------------------------- |
| last_id            | int         | 本次请求的最后一个ID，如为0则数据拉取完毕                      |
| work_task_list     | struct list | 施工记录列表                                                   |
| - id               | int         |                                                                |
| - uuid             | string      | 日志唯一标识                                                   |
| - project_id       | int         | 项目id                                                         |
| - big_task_id      | int         | 大任务ID                                                       |
| - task_id          | int         | 施工任务ID                                                     |
| - sender_id        | int         | 提交人user_id                                                  |
| - status           | int         | 施工状态 1=未开始 2=开始施工 3=提交报验(不一定会有) 4=施工完成 |
| - client_create_at | int         | 客户端记录时间                                                 |
| - create_at        | int         |                                                                |
| - update_at        | int         |                                                                |
| - delete_at        | int         |                                                                |

## 16 获取施工记录日志列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_work_task_log_list/`  
Method: GET
说明：获取施工记录日志列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

|          字段         |     类型    |                              说明                              |
| :-------------------- | :---------: | :------------------------------------------------------------- |
| last_id               |     int     | 本次请求的最后一个ID，如为0则数据拉取完毕                      |
| work_task_log_list    | struct list | 施工记录日志列表                                               |
| - id                  |     int     |                                                                |
| - uuid                |    string   | 日志唯一标识                                                   |
| - project_id          |     int     | 项目ID                                                         |
| - parent_uuid         |    string   | 所属uuid                                                       |
| - big_task_id         |     int     | 大任务ID                                                       |
| - task_id             |     int     | 施工任务ID                                                     |
| - sender_id           |     int     | 提交人user_id                                                  |
| - status              |     int     | 施工状态 1=未开始 2=开始施工 3=提交报验(不一定会有) 4=施工完成 |
| - desc                |    string   | 描述                                                           |
| - attachment_md5_list |    string   | 现场照片md5，多个用半角逗号“,”分隔                             |
| - client_create_at    |     int     | 客户端记录时间                                                 |
| - create_at           |     int     |                                                                |
| - update_at           |     int     |                                                                |
| - delete_at           |     int     |                                                                |

## 17 获取工作记录列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_record_list/`  
Method: GET
说明：获取工作记录列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

| 字段                       | 类型        | 说明                                                               |
| :------------------------- | :---------: | :----------------------------------------------------------------- |
| last_id                    | int         | 本次请求的最后一个ID，如为0则数据拉取完毕                          |
| record_list                | struct list | 工作记录列表                                                       |
| - id                       | int         |                                                                    |
| - uuid                     | string      | 日志唯一标识                                                       |
| - project_id               | int         | 项目id                                                             |
| - big_task_id              | int         | 大任务id                                                           |
| - task_id                  | int         | 任务id                                                             |
| - typ                      | int         | 记录类型 1=施工人员日常工作记录  2=检查人员日常工作记录 3=重要记录 |
| - drawing_md5              | string      | 图纸文件Md5                                                        |
| - pos_x                    | int         | 在图纸上的位置X                                                    |
| - pos_y                    | int         | 在图纸上的位置Y                                                    |
| - close_at                 | int         | 日志关闭时间                                                       |
| - close_user               | int         | 关闭操作人                                                         |
| - area_id                  | int         | 区域ID                                                             |
| - area_path_and_id         | string      | 区域路径及ID                                                       |
| - check_item_code          | string      | 检查项编码                                                         |
| - check_item_path_and_code | string      | 检查项路径及编码                                                   |
| - sender_id                | int         | 提交人ID                                                           |
| - category_key             | string      | 任务类型KEY                                                        |
| - category_path_and_key    | string      | 任务类型Path和Key                                                  |
| - attachment_md5_list      | string      | 现场照片，多个用半角逗号“,”分隔                                    |
| - desc                     | string      | 描述                                                               |
| - client_create_at         | int         | 客户端记录时间                                                     |
| - create_at                | int         |                                                                    |
| - update_at                | int         |                                                                    |
| - delete_at                | int         |                                                                    |

## 18 获取工作记录日志列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_record_log_list/`  
Method: GET
说明：获取工作记录日志列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

|          字段         |     类型    |                                说明                                |
| :-------------------- | :---------: | :----------------------------------------------------------------- |
| last_id               |     int     | 本次请求的最后一个ID，如为0则数据拉取完毕                          |
| record_log_list       | struct list | 工作记录日志列表                                                   |
| - id                  |     int     |                                                                    |
| - uuid                |    string   | 日志唯一标识                                                       |
| - big_task_id         |     int     | 大任务id                                                           |
| - task_id             |     int     | 任务id                                                             |
| - record_uuid         |    string   | 所属uuid                                                           |
| - typ                 |     int     | 记录类型 1=施工人员日常工作记录  2=检查人员日常工作记录 3=重要记录 |
| - status              |     int     | 状态 一般传-1  1=关闭工作记录  2=重新打开工作记录                  |
| - sender_id           |     int     | 提交人user_id                                                      |
| - desc                |    string   | 描述                                                               |
| - area_id             |     int     | 区域id                                                             |
| - drawing_md5         |    string   | 图纸文件Md5                                                        |
| - pos_x               |     int     | 在图纸上的位置X                                                    |
| - pos_y               |     int     | 在图纸上的位置Y                                                    |
| - attachment_md5_list |    string   | 现场照片md5，多个用半角逗号“,”分隔                                 |
| - client_create_at    |     int     | 客户端记录时间                                                     |
| - create_at           |     int     |                                                                    |
| - update_at           |     int     |                                                                    |
| - delete_at           |     int     |                                                                    |

## 19 获取检查项通过记录，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_complete_record_list/`  
Method: GET
说明：获取检查项通过记录，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

| 字段                 | 类型        | 说明                                      |
| :------------------- | :---------: | :---------------------------------------- |
| last_id              | int         | 本次请求的最后一个ID，如为0则数据拉取完毕 |
| complete_record_list | struct list | 检查项通过记录                            |
| - id                 | int         |                                           |
| - uuid               | string      | 日志唯一标识                              |
| - project_id         | int         | 项目id                                    |
| - big_task_id        | int         | 大任务id                                  |
| - task_id            | int         | 任务id                                    |
| - project_id         | int         | 项目id                                    |
| - check_item_code    | string      | 检查项                                    |
| - role_type          | int         | 角色类型 10=施工方  20=监理  30=甲方      |
| - sender_id          | int         | 提交人                                    |
| - client_create_at   | int         | 客户端记录时间                            |
| - create_at          | int         |                                           |
| - update_at          | int         |                                           |
| - delete_at          | int         |                                           |


## 20 获取检查项通过记录，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_complete_record_log_list/`  
Method: GET
说明：获取检查项通过记录，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

| 字段                     | 类型        | 说明                                      |
| :----------------------- | :---------: | :---------------------------------------- |
| last_id                  | int         | 本次请求的最后一个ID，如为0则数据拉取完毕 |
| complete_record_log_list | struct list | 检查项通过记录                            |
| - id                     | int         |                                           |
| - uuid                   | string      | 日志唯一标识                              |
| - project_id             | int         | 项目id                                    |
| - parent_uuid            | string      | 所属uuid                                  |
| - big_task_id            | int         | 大任务id                                  |
| - task_id                | int         | 任务id                                    |
| - category_key           | string      | 任务类型KEY                               |
| - check_item_code        | string      | 检查项                                    |
| - role_type              | int         | 角色类型 10=施工方  20=监理  30=甲方      |
| - sender_id              | int         | 提交人                                    |
| - desc                   | string      | 描述                                      |
| - attachment_md5_list    | string      | 现场照片md5，多个用半角逗号“,”分隔        |
| - category_key           | string      | 任务类型KEY ｜                            |
| - client_create_at       | int         | 客户端记录时间                            |
| - create_at              | int         |                                           |
| - update_at              | int         |                                           |
| - delete_at              | int         |                                           |

## 21 获取检查/抽查记录列表，此为增量接口
PATH: `{BASE_URL}/key_procedure/data_check_record_log_list/`  
Method: GET
说明：获取检查/抽查记录列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| big_task_id | string | 是       | 无     | 大任务ID                            |
| last_id     | int    | 是       | 无     | 上次获取的最后ID，第一次请求时为`0` |
| timestamp   | int    | 是       | 无     | 上次更新时间                        |
	
返回值：

|          字段         |     类型    |                    说明                   |
| :-------------------- | :---------: | :---------------------------------------- |
| last_id               |     int     | 本次请求的最后一个ID，如为0则数据拉取完毕 |
| check_record_log_list | struct list | 检查/抽查记录列表                         |
| - id                  |     int     |                                           |
| - uuid                |    string   | 日志唯一标识                              |
| - project_id          |     int     | 项目ID                                    |
| - big_task_id         |     int     | 大任务id                                  |
| - task_id             |     int     | 任务id                                    |
| - check_times         |     int     | 第几次检查 从1开始                        |
| - role_type           |     int     | 角色类型  20=监理  30=甲方                |
| - sender_id           |     int     | 提交人                                    |
| - log_type            |     int     | 日志类型 1=监理检查 2=甲方抽查            |
| - check_result        |     int     | 结果 1=通过 2=不通过                      |
| - client_create_at    |     int     | 客户端记录时间                            |
| - create_at           |     int     |                                           |
| - update_at           |     int     |                                           |
| - delete_at           |     int     |                                           |

## 22 上报问题日志

PATH: `{BASE_URL}/key_procedure/report_issue/`  
Method: POST
说明：上报问题日志

请求参数:  

| 字段                  | 类型        | 是否必须 | 默认值 | 说明                                                                               |
| :-------------------- | :---------: | :------: | :----: | :--------------------------------------------------------------------------------- |
| report_uuid           | string      | 是       | 无     | 本次上传的唯一字符串，用于查询是否上传成功                                         |
| data                  | struct list | 是       | 无     | 要上传的issue数据数据                                                              |
| - uuid                | string      | 是       | 无     | 日志唯一标识                                                                       |
| - project_id          | int         | 项目id   |        |                                                                                    |
| - big_task_id         | int         | 是       | 无     | 大任务id                                                                           |
| - task_id             | int         | 是       | 无     | 任务id                                                                             |
| - issue_uuid          | string      | 是       | 无     | 所属的issue的uuid                                                                  |
| - sender_id           | int         | 是       | 无     | 提交人user_id                                                                      |
| - desc                | string      | 是       | 无     | 描述                                                                               |
| - drawing_md5         | string      | 是       | 无     | 图纸文件Md5                                                                        |
| - pos_x               | int         | 是       | 无     | 在图纸上的位置X                                                                    |
| - pos_y               | int         | 是       | 无     | 在图纸上的位置Y                                                                    |
| - typ                 | int         | 是       | 无     | 记录类型 1=普通问题 2=难以整改问题 3=重大问题                                      |
| - status              | int         | 是       | 无     | 状态：1 已记录未分配 2已分配未整改 3已整改未验收 4已验收 5已取消，传`-1`表示不更改 |
| - attachment_md5_list | string      | 是       | 无     | 现场照片md5，多个用半角逗号“,”分隔                                                 |
| - plan_end_on         | int         | 是       | 无     | 计划完成时间，传`-1`表示不更改，传`0`表示置空                                      |
| - end_on              | int         | 是       | 无     | 完成时间，传`-1`表示不更改，传`0`表示置空                                          |
| - repairer_id         | int         | 是       | 无     | 整改人user_id，传`-1`表示不更改，传`0`表示置空                                     |
| - condition           | int         | 是       | 无     | 严重程度，新建issue时为必传，其它情况下请传`-1`                                    |
| - check_item_code     | string      | 是       | 无     | 检查项编码，新建issue时为必传，其它情况下请传``                                    |
| - area_id             | int         | 是       | 无     | 区域Id                                                                             |
| - client_create_at    | int         | 是       | 无     | 客户端记录时间                                                                     |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| dropped_uuid     | string list   | 被抛弃数据的UUID          |


## 23 上报施工日志

PATH: `{BASE_URL}/key_procedure/report_worktask/`  
Method: POST
说明：上报施工日志

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                                           |
|:----------------------|:-----------:|:--------:|:------:|:---------------------------------------------------------------|
| report_uuid           |   string    |    是    |   无   | 本次上传的唯一字符串，用于查询是否上传成功                     |
| data                  | struct list |    是    |   无   | 要上传的issue数据数据                                          |
| - uuid                |   string    |    是    |   无   | 日志唯一标识                                                   |
| - parent_uuid         |   string    |    是    |   无   | 所属的uuid                                                     |
| - project_id          |     int     |  项目id  |        |                                                                |
| - big_task_id         |     int     |    是    |   无   | 大任务id                                                       |
| - task_id             |     int     |    是    |   无   | 任务id                                                         |
| - sender_id           |     int     |    是    |   无   | 提交人user_id                                                  |
| - desc                |   string    |    是    |   无   | 描述                                                           |
| - status              |     int     |    是    |   无   | 施工状态 1=未开始 2=开始施工 3=提交报验(不一定会有) 4=施工完成 |
| - attachment_md5_list |   string    |    是    |   无   | 现场照片md5，多个用半角逗号“,”分隔                             |
| - client_create_at    |     int     |    是    |   无   | 客户端记录时间                                                 |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| dropped_uuid     | string list   | 被抛弃数据的UUID          |


## 24 上报工作日志

PATH: `{BASE_URL}/key_procedure/report_record/`  
Method: POST
说明：上报工作日志

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                                               |
|:----------------------|:-----------:|:--------:|:------:|:-------------------------------------------------------------------|
| report_uuid           |   string    |    是    |   无   | 本次上传的唯一字符串，用于查询是否上传成功                         |
| data                  | struct list |    是    |   无   | 要上传的issue数据数据                                              |
| - uuid                |   string    |    是    |   无   | 日志唯一标识                                                       |
| - parent_uuid         |   string    |    是    |   无   | 所属的uuid                                                         |
| - big_task_id         |     int     |    是    |   无   | 大任务id                                                           |
| - task_id             |     int     |    是    |   无   | 任务id                                                             |
| - record_uuid         |   string    |    是    |   无   | 所属uuid                                                           |
| - sender_id           |     int     |    是    |   无   | 提交人user_id                                                      |
| - typ                 |     int     |    是    |   无   | 记录类型 1=施工人员日常工作记录  2=检查人员日常工作记录 3=重要记录 |
| - desc                |   string    |    是    |   无   | 描述                                                               |
| - check_item_code     |   string    |    是    |   无   | 检查项编码，新建issue时为必传，其它情况下请传``                    |
| - area_id             |     int     |    是    |   无   | 区域Id                                                             |
| - drawing_md5         |   string    |    是    |   无   | 图纸文件Md5                                                        |
| - pos_x               |     int     |    是    |   无   | 在图纸上的位置X                                                    |
| - pos_y               |     int     |    是    |   无   | 在图纸上的位置Y                                                    |
| - status              |     int     |    是    |   无   | 状态 一般传-1  1=关闭工作记录  2=重新打开工作记录                  |
| - attachment_md5_list |   string    |    是    |   无   | 现场照片md5，多个用半角逗号“,”分隔                                 |
| - client_create_at    |     int     |    是    |   无   | 客户端记录时间                                                     |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| dropped_uuid     | string list   | 被抛弃数据的UUID          |


## 25 上报检查/抽查记录

PATH: `{BASE_URL}/key_procedure/report_check/`  
Method: POST
说明：上报检查/抽查记录

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                          |
|:----------------------|:-----------:|:--------:|:------:|:----------------------------------------------|
| report_uuid           |   string    |    是    |   无   | 本次上传的唯一字符串，用于查询是否上传成功    |
| data                  | struct list |    是    |   无   | 要上传的issue数据数据                         |
| - uuid                |   string    |    是    |   无   | 日志唯一标识                                  |
| - project_id          |     int     |  项目id  |        |                                               |
| - big_task_id         |     int     |    是    |   无   | 大任务id                                      |
| - task_id             |     int     |    是    |   无   | 任务id                                        |
| - check_times         |     int     |    是    |   无   | 第几次检查 从1开始                            |
| - role_type           |     int     |    是    |   无   | 角色类型 20=监理 30=甲方                      |
| - log_type            |     int     |    是    |   无   | 记录类型   1 : 检查记录 2:抽查记录 3:开始检查 |
| - sender_id           |     int     |    是    |   无   | 提交人user_id                                 |
| - check_result        |     int     |    是    |   无   | 结果 1=通过 2=不通过                          |
| - desc                |   string    |    是    |   无   | 描述                                          |
| - attachment_md5_list |   string    |    是    |   无   | 现场照片md5，多个用半角逗号“,”分隔            |
| - client_create_at    |     int     |    是    |   无   | 客户端记录时间                                |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| dropped_uuid     | string list   | 被抛弃数据的UUID          |


## 26 上报检查项 完成/通过 记录

PATH: `{BASE_URL}/key_procedure/report_complete_record/`  
Method: POST
说明：上报检查项 完成/通过 记录

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                       |
|:----------------------|:-----------:|:--------:|:------:|:-------------------------------------------|
| report_uuid           |   string    |    是    |   无   | 本次上传的唯一字符串，用于查询是否上传成功 |
| data                  | struct list |    是    |   无   | 要上传的issue数据数据                      |
| - uuid                |   string    |    是    |   无   | 日志唯一标识                               |
| - parent_uuid         |   string    |    是    |   无   | 所属的uuid                                 |
| - project_id          |     int     |  项目id  |        |                                            |
| - big_task_id         |     int     |    是    |   无   | 大任务id                                   |
| - task_id             |     int     |    是    |   无   | 任务id                                     |
| - category_key        |   string    |    是    |   无   | 关键工序key                                |
| - check_item_code     |   string    |    是    |   无   | 检查项                                     |
| - role_type           |     int     |    是    |   无   | 角色类型 10=施工人员 20=监理 30=甲方       |
| - sender_id           |     int     |    是    |   无   | 提交人user_id                              |
| - ~~drawing_md5~~     | ~~string~~  |  ~~是~~  | ~~无~~ | ~~图纸文件Md5~~                            |
| - ~~area_id~~         |   ~~int~~   |  ~~是~~  | ~~无~~ | ~~区域位置~~                               |
| - ~~pos_x~~           |   ~~int~~   |  ~~是~~  | ~~无~~ | ~~在图纸上的位置X~~                        |
| - ~~pos_y~~           |   ~~int~~   |  ~~是~~  | ~~无~~ | ~~在图纸上的位置Y~~                        |
| - desc                |   string    |    是    |   无   | 描述                                       |
| - attachment_md5_list |   string    |    是    |   无   | 现场照片md5，多个用半角逗号“,”分隔         |
| - client_create_at    |     int     |    是    |   无   | 客户端记录时间                             |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| dropped_uuid     | string list   | 被抛弃数据的UUID          |


## 27 读取测量规则

PATH: `{BASE_URL}/info/measure_rule/`
Method: GET

请求参数：

| 字段          | 类型   | 是否必须 | 默认值 | 说明                                |
|:--------------|:-------|:---------|:-------|:------------------------------------|
| category_keys | string | 是       | 无     | 类型Key，多个Key请用半角逗号“,”分隔 |

返回值：

| 字段                   | 类型          | 说明                                                           |
| :--------------------- | :------------ | :------------------------------------------------------------- |
| rule_list              | struct list   | 规则列表                                                       |
| - id                   | int           |                                                                |
| - team_id              | int           | 所属集团Id                                                     |
| - category_key         | string        | 任务类型Key                                                    |
| - desc                 | string        | 规则说明                                                       |
| - rule_type            | int           | 规则类型，一般可以理解为测区表示形式                           |
| - formula              | string        | 公式                                                           |
| - group_count_min      | int           | 最小组数                                                       |
| - group_count_max      | int           | 最大组数   (当"当前值"不大于group_count_max时，可以新增组)     |
| - group_count_init     | int           | 初始组数                                                       |
| - ~~zone_count_min~~   | ~~int~~       | ~~最小测区数~~                                                 |
| - ~~zone_count_max~~   | ~~int~~       | ~~最大测区数~~                                                 |
| - textures             | string        | 测点可选类型（材质），半角逗号分隔                             |
| - points               | struct list   | 测点规则列表                                                   |
| - - key                | string        | 测点规则识别名                                                 |
| - - name               | string        | 测点名称                                                       |
| - - point_type         | int           | 测点类型：1，选择值；2、输入值                                 |
| - - count_min          | int           | 最小测点数                                                     |
| - - count_max          | int           | 最大测点数 (当"当前值"不大于count_max时，可以新增点)           |
| - - count_init         | int           | 初始测点数                                                     |
| - - data_type          | int           | 要求数据类型：1，boolean；2，整数(int)；14，浮点数（double）   |
| - - design_value_reqd  | bool          | 是否需要录入设计值                                             |
| - - allow_range        | string        | 允许录入的值的范围：a,b~c                                      |

## 28 获取指定项目的描画区域，此为全量接口
PATH: `{BASE_URL}/info/measure_region/`
Method: GET
说明：获取指定项目的描画区域，此为全量接口

请求参数:

| 字段        |  类型  | 是否必须 | 默认值 | 说明                              |
|:------------|:------:|:--------:|:------:|:----------------------------------|
| project_ids | string |    是    |   无   | 项目ID，多可id请用半角逗号“,”分隔 |

返回值：

| 字段                 | 类型          | 说明                                 |
| :------------------- | :-----------: | :----------------------------------- |
| region_list          | struct list   | 描画区域列表                         |
| - id                 | int           | ID                                   |
| - uuid               | string        | 唯一编码                             |
| - region_index       | int           | 描画区域区域内排序（显示用）         |
| - project_id         | int           | 项目ID                               |
| - area_id            | int           | 所属区域ID                           |
| - rel_id             | int           | 所属描画区域关联关系ID               |
| - src_type           | int           | 来源类型 1=后台添加 2=客户端添加     |
| - area_path_and_id   | string        | 路径区域（暂勿使用）                 |
| - drawing_md5        | string        | 图纸MD5                              |
| - polygon            | string        | 点（"X,Y"）                          |
| - update_at          | int           | 更新时间                             |
| - delate_at          | int           | 删除时间(`0`表示未删除)              |
| rel_list             | struct list   | 描画区域关联关系列表                 |
| - id                 | int           | ID                                   |
| - project_id         | int           | 项目ID                               |


## 29
### API概述
|      功能      |             路径             | HTTP方法 |
| -------------- | ---------------------------- | -------- |
| measure_region | /api/info/measure_region_v2/ | GET      |
### 请求协议
|   字段名   | 类型 | 是否必填 |                            描述                           |
| ---------- | ---- | -------- | --------------------------------------------------------- |
| lang       | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| project_id | 整型 | 是       | 项目ID                                                    |
| last_id    | 整型 | 是       | 上次ID                                                    |
| timestamp  | 整型 | 是       | 上次更新时间                                              |
### 响应协议
|        字段名        |    类型    | 是否必填 |               描述               |
| -------------------- | ---------- | -------- | -------------------------------- |
| result               | 整型       | 是       | 结果.0成功，非0失败              |
| message              | 字符串     | 否       | 错误信息                         |
| data                 | 结构体     | 否       | 结果数据                         |
| --region_list        | 结构体数组 | 否       | 描画区域列表                     |
| ----id               | 整型       | 是       | Id                               |
| ----uuid             | 字符串     | 是       | 唯一编码                         |
| ----region_index     | 整型       | 是       | 编号                             |
| ----project_id       | 整型       | 是       | 项目ID                           |
| ----area_id          | 整型       | 是       | 所属区域ID                       |
| ----rel_id           | 整型       | 是       | 所属描画区域关联关系ID           |
| ----src_type         | 整型       | 是       | 来源类型 1=后台添加 2=客户端添加 |
| ----area_path_and_id | 字符串     | 是       | 路径区域（暂勿使用）             |
| ----drawing_md5      | 字符串     | 是       | 图纸MD5                          |
| ----polygon          | 字符串     | 是       | 点（"X,Y"）                      |
| ----update_at        | 整型       | 是       | 更新时间                         |
| ----delete_at        | 整型       | 是       | 删除时间                         |
| --last_id            | 整型       | 是       | 本次获取的最后ID                 |


## 30、获取指定项目的描画区域-总数 - measure_region_v2_total
### API概述
|           功能          |                路径                | HTTP方法 |
| ----------------------- | ---------------------------------- | -------- |
| measure_region_v2_total | /api/info/measure_region_v2_total/ | GET      |
### 请求协议
|   字段名   | 类型 | 是否必填 |                            描述                           |
| ---------- | ---- | -------- | --------------------------------------------------------- |
| lang       | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| project_id | 整型 | 是       | 项目ID                                                    |
| timestamp  | 整型 | 是       | 上次更新时间                                              |
### 响应协议
| 字段名  |  类型  | 是否必填 |         描述        |
| ------- | ------ | -------- | ------------------- |
| result  | 整型   | 是       | 结果.0成功，非0失败 |
| message | 字符串 | 否       | 错误信息            |
| data    | 结构体 | 否       | 结果数据            |
| --total | 整型   | 是       | 总数                |


## 31 measure_region - measure_region_rel_v2
### API概述
|      功能      |               路径               | HTTP方法 |
| -------------- | -------------------------------- | -------- |
| measure_region | /api/info/measure_region_rel_v2/ | GET      |
### 请求协议
|   字段名   | 类型 | 是否必填 |                            描述                           |
| ---------- | ---- | -------- | --------------------------------------------------------- |
| lang       | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| project_id | 整型 | 是       | 项目ID                                                    |
| last_id    | 整型 | 是       | 上次ID                                                    |
| timestamp  | 整型 | 是       | 上次更新时间                                              |

### 响应协议
|     字段名     |    类型    | 是否必填 |                描述                |
| -------------- | ---------- | -------- | ---------------------------------- |
| result         | 整型       | 是       | 结果.0成功，非0失败                |
| message        | 字符串     | 否       | 错误信息                           |
| data           | 结构体     | 否       | 结果数据                           |
| --rel_list     | 结构体数组 | 否       | 描画区域关联关系列表               |
| ----id         | 整型       | 是       | Id                                 |
| ----project_id | 整型       | 是       | 项目ID                             |
| ----region_ids | 字符串     | 是       | 描画区域列表，半角逗号分隔（冗余） |
| ----update_at  | 整型       | 是       | 更新时间                           |
| ----delete_at  | 整型       | 是       | 删除时间                           |
| --last_id      | 整型       | 是       | 本次获取的最后ID                   |


## 32 获取与“我”相关的实测实量清单
PATH: `{BASE_URL}/measure/my_task/`  
Method: GET
说明：读取指定项目下，与我相关的实测实量清单。此为全量接口

请求参数:

| 字段       | 类型 | 是否必须 | 默认值 | 说明                       |
|:-----------|:----:|:--------:|:------:|:---------------------------|
| project_id | int  |    是    |   无   | 项目ID，单个，注意，是单个 |


返回值：

| 字段                  | 类型          | 说明                                |
| :-------------------- | :-----------: | :---------------------------------- |
| measure_list          | struct list   | 任务列表                            |
| - id                  | int           | ID                                  |
| - project_id          | int           | project_id                          |
| - name                | string        | 清单名称                            |
| - finish_status       | int           | 完成状态：1、未完成；2、已完成      |
| - close_status        | int           | 关闭状态：1、未关闭；2、已关闭      |
| - plan_begin_on       | int           | 计划开始时间                        |
| - plan_end_on         | int           | 计划完成时间                        |
| - area_ids            | string        | 清单涉及区域，半角逗号分隔          |
| - root_category_key   | string        | 根任务类型                          |
| - update_at           | int           | 更新时间                            |
| - delate_at           | int           | 删除时间(`0`表示未删除)             |

## 33 读取实测清单下的测区
PATH: `{BASE_URL}/measure/measure_zone/`  
Method: GET
说明：读取实测清单下的测区。此为全量接口

请求参数:  

| 字段     |  类型  | 是否必须 | 默认值 | 说明                              |
|:---------|:------:|:--------:|:------:|:----------------------------------|
| list_ids | string |    是    |   无   | 清单ID，多可id请用半角逗号“,”分隔 |

返回值：

| 字段                      | 类型          | 说明                             |
| :------------------------ | :-----------: | :------------------------        |
| zone_list                 | struct list   | 人员列表                         |
| - id                      | int           | ID                               |
| - uuid                    | string        | 唯一编码                         |
| - project_id              | int           | 项目ID                           |
| - list_id                 | int           | 清单ID                           |
| - region_uuid             | string        | 描画区域UUID                     |
| - area_id                 | int           | 区域Id                           |
| - category_key            | string        | 任务类型key                      |
| - category_path_and_key   | string        | 任务类型路径                     |
| - src_type                | int           | 来源类型 1=后台添加 2=客户端添加 |
| - finish_status           | int           | 完成状态：1、未完成；2、已完成   |
| - close_status            | int           | 关闭状态：1、未关闭；2、已关闭   |
| - update_at               | int           | 更新时间                         |
| - delate_at               | int           | 删除时间(`0`表示未删除)          |

## 34读取实测清单下的测区-分批 - measure_zone_v2
### API概述
|              功能              |              路径             | HTTP方法 |
| ------------------------------ | ----------------------------- | -------- |
| 读取实测清单下的测区-分批 | /api/measure/measure_zone_v2/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| last_id   | 整型 | 是       | 上次ID                                                    |
| timestamp | 整型 | 是       | 上次更新时间                                              |
### 响应协议
|          字段名           |    类型    | 是否必填 |                 描述                 |
| ------------------------- | ---------- | -------- | ------------------------------------ |
| result                    | 整型       | 是       | 结果.0成功，非0失败                  |
| message                   | 字符串     | 否       | 错误信息                             |
| data                      | 结构体     | 否       | 结果数据                             |
| --zone_list               | 结构体数组 | 否       | 人员列表                             |
| ----id                    | 整型       | 是       | Id                                   |
| ----uuid                  | 字符串     | 是       | 唯一编码                             |
| ----project_id            | 整型       | 是       | 项目ID                               |
| ----list_id               | 整型       | 是       | 清单ID                               |
| ----region_uuid           | 字符串     | 是       | 描画区域UUID                         |
| ----area_id               | 整型       | 是       | 区域ID                               |
| ----area_path_and_id      | 字符串     | 是       | 区域路径及ID                         |
| ----category_key          | 字符串     | 是       | 任务类型key                          |
| ----category_path_and_key | 字符串     | 是       | 任务类型路径                         |
| ----src_type              | 整型       | 是       | 来源类型：1，后台添加；2，客户端添加 |
| ----finish_status         | 整型       | 是       | 完成状态：1、未完成；2、已完成       |
| ----close_status          | 整型       | 是       | 关闭状态：1、未关闭；2、已关闭       |
| ----update_at             | 整型       | 是       | 更新时间                             |
| ----delete_at             | 整型       | 是       | 删除时间(0表示未删除)                |
| --last_id                 | 整型       | 是       | 本次获取的最后ID                     |

## 35读取实测清单下的测区的总数 - measure_zone_v2_total
### API概述
|               功能              |                 路径                | HTTP方法 |
| ------------------------------- | ----------------------------------- | -------- |
| 读取实测清单下的测区的总数 | /api/measure/measure_zone_v2_total/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| timestamp | 整型 | 是       | 上次更新时间                                              |
### 响应协议
| 字段名  |  类型  | 是否必填 |         描述        |
| ------- | ------ | -------- | ------------------- |
| result  | 整型   | 是       | 结果.0成功，非0失败 |
| message | 字符串 | 否       | 错误信息            |
| data    | 结构体 | 否       | 结果数据            |
| --total | 整型   | 是       | 总数                |


## 36 读取实测清单测量小组列表及整改人员列表
|                     功能                     |                   路径                   | HTTP方法 |
| -------------------------------------------- | ---------------------------------------- | -------- |
| 读取实测清单测量小组列表及整改人员列表 | /api/measure/measure_squad_and_repairer/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| timestamp | 整型 | 是       | 上次更新时间                                              |
### 响应协议
|      字段名       |    类型    | 是否必填 |                 描述                |
| ----------------- | ---------- | -------- | ----------------------------------- |
| result            | 整型       | 是       | 结果.0成功，非0失败                 |
| message           | 字符串     | 否       | 错误信息                            |
| data              | 结构体     | 否       | 结果数据                            |
| --squad_list      | 结构体数组 | 是       | 测量小组列表                        |
| ----id            | 整型       | 是       | Id                                  |
| ----project_id    | 整型       | 是       | 项目ID                              |
| ----list_id       | 整型       | 是       | 清单ID                              |
| ----name          | 字符串     | 是       | 组名                                |
| ----plan_rate     | 整型       | 是       | 计划检查率                          |
| ----rate          | 整型       | 是       | 实际检查率                          |
| ----update_at     | 整型       | 是       | 更新时间                            |
| ----delete_at     | 整型       | 是       | 删除时间(0表示未删除)               |
| --squad_user_list | 结构体数组 | 是       | 测量小组列表                        |
| ----id            | 整型       | 是       | Id                                  |
| ----project_id    | 整型       | 是       | 项目ID                              |
| ----list_id       | 整型       | 是       | 清单ID                              |
| ----squad_id      | 整型       | 是       | 测量组ID                            |
| ----user_id       | 整型       | 是       | 用户ID                              |
| ----update_at     | 整型       | 是       | 更新时间                            |
| ----delete_at     | 整型       | 是       | 删除时间(0表示未删除)               |
| --repairer_list   | 结构体数组 | 是       | 爆点整改人员列表                    |
| ----id            | 整型       | 是       | Id                                  |
| ----project_id    | 整型       | 是       | 项目ID                              |
| ----list_id       | 整型       | 是       | 清单ID                              |
| ----role_type     | 整型       | 是       | 角色类型  2=爆点跟进人 3=爆点整改人 |
| ----user_id       | 整型       | 是       | 用户ID                              |
| ----update_at     | 整型       | 是       | 更新时间                            |
| ----delete_at     | 整型       | 是       | 删除时间(0表示未删除)               |

## 37读取测量结果

PATH: `{BASE_URL}/measure/measure_zone_result/`
Method: GET

请求参数：

| 字段     | 类型   | 是否必须 | 默认值 | 说明                              |
|:---------|:-------|:---------|:-------|:----------------------------------|
| list_ids | string | 是       | 无     | 清单ID，多可id请用半角逗号“,”分隔 |

返回值：
|          字段名           |    类型    | 是否必填 |                                         描述                                        |
| ------------------------- | ---------- | -------- | ----------------------------------------------------------------------------------- |
| result                    | 整型       | 是       | 结果.0成功，非0失败                                                                 |
| message                   | 字符串     | 否       | 错误信息                                                                            |
| data                      | 结构体     | 否       | 结果数据                                                                            |
| --result_list             | 结构体数组 | 否       | 返回结果列表                                                                        |
| ----id                    | 整型       | 是       | Id                                                                                  |
| ----uuid                  | 字符串     | 是       | UUID                                                                                |
| ----project_id            | 整型       | 是       | 所属项目Id                                                                          |
| ----list_id               | 整型       | 是       | 所属清单Id                                                                          |
| ----zone_uuid             | 字符串     | 是       | 所属测区uuid                                                                        |
| ----squad_id              | 整型       | 是       | 小队Id                                                                              |
| ----area_id               | 整型       | 是       | 区域ID                                                                              |
| ----rule_id               | 整型       | 是       | 规则Id                                                                              |
| ----data                  | 结构体数组 | 否       | 组测量结果                                                                          |
| ------recorder_id         | 整型       | 是       | 记录者Id                                                                            |
| ------texture             | 字符串     | 是       | 测点类型（材质）                                                                    |
| ------data                | 结构体数组 | 否       | 单名称测点测量结果                                                                  |
| --------key               | 字符串     | 是       | 测量点识别名 MeasurePointRule.Key                                                   |
| --------data_type         | 整型       | 是       | 数据类型：1，boolean；2，整数(int)；14，浮点数（double）                            |
| --------data              | 字符串     | 是       | 数据列表，多个请用半角逗号“,”分隔                                                   |
| --------design_value_reqd | 布尔型     | 是       | 是否需要录入设计值                                                                  |
| --------design_value      | 浮点型     | 否       | 设计值                                                                              |
| --------ok_total          | 整型       | 是       | 合格数（公式计算后得到）                                                            |
| --------total             | 整型       | 是       | 总数（公式计算后得到）                                                              |
| --------seq               | 字符串     | 是       | 合格情况序列：0，不合格；1，合格。例："0110001"，合格数=3，总数=7（公式计算后得到） |
| --------deviation         | 字符串     | 是       | 偏差值，多个请用半角逗号“,”分隔                                                     |
| ------score               | 浮点型     | 是       | 得分（公式计算后得到）                                                              |
| ------update_at           | 整型       | 是       | 更新时间                                                                            |
| ----ok_total              | 整型       | 是       | 合格数                                                                              |
| ----total                 | 整型       | 是       | 总数                                                                                |
| ----score                 | 浮点型     | 是       | 得分                                                                                |
| ----update_at             | 整型       | 是       | 更新时间                                                                            |
| ----delete_at             | 整型       | 是       | 删除时间(0表示未删除)                                                               |
| --last_id                 | 整型       | 是       | 本次获取的最后ID                                                                    |

## 38读取测量结果-分批 - measure_zone_result_v2
### API概述
|           功能          |                 路径                 | HTTP方法 |
| ----------------------- | ------------------------------------ | -------- |
| 读取测量结果-分批 | /api/measure/measure_zone_result_v2/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| last_id   | 整型 | 是       | 上次ID                                                    |
| timestamp | 整型 | 是       | 上次更新时间                                              |
### 响应协议
|          字段名           |    类型    | 是否必填 |                                         描述                                        |
| ------------------------- | ---------- | -------- | ----------------------------------------------------------------------------------- |
| result                    | 整型       | 是       | 结果.0成功，非0失败                                                                 |
| message                   | 字符串     | 否       | 错误信息                                                                            |
| data                      | 结构体     | 否       | 结果数据                                                                            |
| --result_list             | 结构体数组 | 否       | 返回结果列表                                                                        |
| ----id                    | 整型       | 是       | Id                                                                                  |
| ----uuid                  | 字符串     | 是       | UUID                                                                                |
| ----project_id            | 整型       | 是       | 所属项目Id                                                                          |
| ----list_id               | 整型       | 是       | 所属清单Id                                                                          |
| ----zone_uuid             | 字符串     | 是       | 所属测区uuid                                                                        |
| ----region_uuid           | 字符串     | 是       | 描区uuid                                     										  |
| ----squad_id              | 整型       | 是       | 小队Id                                                                              |
| ----area_id               | 整型       | 是       | 区域ID                                                                              |
| ----area_path_and_id      | 字符串     | 是       | 区域路径及ID                                										  |
| ----category_key          | 字符串     | 是       | 任务类型KEY                                  										  |
| ----category_path_and_key | 字符串     | 是       | 任务路径及KEY                                										  |
| ----rule_id               | 整型       | 是       | 规则Id                                                                              |
| ----data                  | 结构体数组 | 否       | 组测量结果                                                                          |
| ------recorder_id         | 整型       | 是       | 记录者Id                                                                            |
| ------texture             | 字符串     | 是       | 测点类型（材质）                                                                    |
| ------data                | 结构体数组 | 否       | 单名称测点测量结果                                                                  |
| --------key               | 字符串     | 是       | 测量点识别名 MeasurePointRule.Key                                                   |
| --------data_type         | 整型       | 是       | 数据类型：1，boolean；2，整数(int)；14，浮点数（double）                            |
| --------data              | 字符串     | 是       | 数据列表，多个请用半角逗号“,”分隔                                                   |
| --------design_value_reqd | 布尔型     | 是       | 是否需要录入设计值                                                                  |
| --------design_value      | 浮点型     | 否       | 设计值                                                                              |
| --------ok_total          | 整型       | 是       | 合格数（公式计算后得到）                                                            |
| --------total             | 整型       | 是       | 总数（公式计算后得到）                                                              |
| --------seq               | 字符串     | 是       | 合格情况序列：0，不合格；1，合格。例："0110001"，合格数=3，总数=7（公式计算后得到） |
| ------score               | 浮点型     | 是       | 得分（公式计算后得到）                                                              |
| ------update_at           | 整型       | 是       | 更新时间                                                                            |
| ----ok_total              | 整型       | 是       | 合格数                                                                              |
| ----total                 | 整型       | 是       | 总数                                                                                |
| ----score                 | 浮点型     | 是       | 得分                                                                                |
| ----update_at             | 整型       | 是       | 更新时间                                                                            |
| ----delete_at             | 整型       | 是       | 删除时间(0表示未删除)                                                               |
| --last_id                 | 整型       | 是       | 本次获取的最后ID                                                                    |


## 39读取测量结果-总数 - measure_zone_result_v2_total
### API概述
|           功能          |                    路径                    | HTTP方法 |
| ----------------------- | ------------------------------------------ | -------- |
| 读取测量结果-总数 | /api/measure/measure_zone_result_v2_total/ | GET      |
### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| timestamp | 整型 | 是       | 上次更新时间                                              |
### 响应协议
| 字段名  |  类型  | 是否必填 |         描述        |
| ------- | ------ | -------- | ------------------- |
| result  | 整型   | 是       | 结果.0成功，非0失败 |
| message | 字符串 | 否       | 错误信息            |
| data    | 结构体 | 否       | 结果数据            |
| --total | 整型   | 是       | 总数                |

## 40读取Issue爆点整改数据
### API概述
|                功能                |                路径                | HTTP方法 |
| ---------------------------------- | ---------------------------------- | -------- |
| 读取Issue爆点整改数据 | `{BASE_URL}/api/measure/issue/` | GET      |

### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| last_id   | 整型 | 是       | 上次获取的最后ID                                          |
| timestamp | 整型 | 是       | 更新时间                                                  |


### 响应协议
|          字段名           |    类型    | 是否必填 |                     描述                     |
| ------------------------- | ---------- | -------- | -------------------------------------------- |
| result                    | 整型       | 是       | 结果.0成功，非0失败                          |
| message                   | 字符串     | 否       | 错误信息                                     |
| data                      | 结构体     | 否       | 结果数据                                     |
| --last_id                 | 整型       | 是       | 本次获取的最后ID                             |
| --issue_list              | 结构体数组 | 是       | issue列表                                    |
| ----id                    | 整型       | 是       | id                                           |
| ----uuid                  | 字符串     | 是       | uuid                                         |
| ----project_id            | 整型       | 是       | 项目ID                                       |
| ----category_key          | 字符串     | 是       | 任务类型KEY                                  |
| ----category_path_and_key | 字符串     | 是       | 任务路径及KEY                                |
| ----list_id               | 整型       | 是       | 实测清单ID                                   |
| ----zone_uuid             | 字符串     | 是       | 测区uuid                                     |
| ----region_uuid           | 字符串     | 是       | 描区uuid                                     |
| ----squad_id              | 整型       | 是       | 测量小组ID                                   |
| ----sender_id             | 整型       | 是       | 提交人user_id                                |
| ----repairer_id           | 整型       | 是       | 整改人user_id                                |
| ----area_id               | 整型       | 是       | 区域ID                                       |
| ----area_path_and_id      | 字符串     | 是       | 区域路径及ID                                 |
| ----typ                   | 整型       | 是       | 问题类型                                     |
| ----status                | 整型       | 是       | 问题类型                                     |
| ----plan_end_on           | 整型       | 是       | 计划完成时间                                 |
| ----end_on                | 整型       | 是       | 完成时间                                     |
| ----drawing_md5           | 字符串     | 是       | 图纸文件Md5                                  |
| ----pos_x                 | 整型       | 是       | 图纸上的位置X                                |
| ----pos_y                 | 整型       | 是       | 图纸上的位置Y                                |
| ----desc                  | 字符串     | 是       | 问题描述                                     |
| ----condition             | 整型       | 是       | 问题严重情况                                 |
| ----attachment_md5_list   | 字符串     | 是       | 产生Issue时的现场照片，多个用半角逗号“,”分隔 |
| ----last_assigner         | 整型       | 是       | 最后指派人                                   |
| ----last_assigner_at      | 整型       | 是       | 最后指派时间                                 |
| ----destroy_user          | 整型       | 是       | 消项人                                       |
| ----destroy_at            | 整型       | 是       | 消项时间                                     |
| ----delete_user           | 整型       | 是       | 删除人                                       |
| ----delete_time           | 整型       | 是       | 删除时间                                     |
| ----close_user            | 整型       | 是       | 关闭人                                       |
| ----close_time            | 整型       | 是       | 关闭时间                                     |
| ----client_create_at      | 整型       | 是       | 客户端记录时间                               |
| ----create_at             | 整型       | 是       | 创建时间                                     |
| ----update_at             | 整型       | 是       | 更新时间                                     |
| ----delete_at             | 整型       | 是       | 删除时间                                     |


## 41读取Issue爆点整改数据日志
### API概述
|                  功能                  |                  路径                  | HTTP方法 |
| -------------------------------------- | -------------------------------------- | -------- |
| 读取Issue爆点整改数据日志 | `{BASE_URL}/api/measure/issue_log/` | GET      |

### 请求协议
|  字段名   | 类型 | 是否必填 |                            描述                           |
| --------- | ---- | -------- | --------------------------------------------------------- |
| lang      | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| list_id   | 整型 | 是       | 清单ID                                                    |
| last_id   | 整型 | 是       | 上次获取的最后ID                                          |
| timestamp | 整型 | 是       | 更新时间                                                  |

### 响应协议
|         字段名          |    类型    | 是否必填 |                描述                |
| ----------------------- | ---------- | -------- | ---------------------------------- |
| result                  | 整型       | 是       | 结果.0成功，非0失败                |
| message                 | 字符串     | 否       | 错误信息                           |
| data                    | 结构体     | 否       | 结果数据                           |
| --last_id               | 整型       | 是       | 本次获取的最后ID                   |
| --issue_log_list        | 结构体数组 | 是       | issue列表                          |
| ----id                  | 整型       | 是       | id                                 |
| ----uuid                | 字符串     | 是       | uuid                               |
| ----list_id             | 整型       | 是       | 任务ID                             |
| ----zone_uuid           | 字符串     | 是       | 测区uuid                           |
| ----issue_uuid          | 字符串     | 是       | 所属issue_uuid                     |
| ----sender_id           | 整型       | 是       | 提交人user_id                      |
| ----desc                | 字符串     | 是       | 问题描述                           |
| ----typ                 | 整型       | 是       | 问题类型                           |
| ----status              | 整型       | 是       | 问题状态                           |
| ----attachment_md5_list | 字符串     | 是       | 现场照片，多个用半角逗号“,”分隔    |
| ----plan_end_on         | 整型       | 是       | 计划完成时间                       |
| ----end_on              | 整型       | 是       | 完成时间                           |
| ----repairer_id         | 整型       | 是       | 整改人user_id                      |
| ----condition           | 整型       | 是       | 严重程度                           |
| ----category_key        | 字符串     | 是       | 任务类型KEY                        |
| ----drawing_md5         | 字符串     | 是       | 图纸文件Md5                        |
| ----pos_x               | 整型       | 是       | 图纸上的位置X                      |
| ----pos_y               | 整型       | 是       | 图纸上的位置Y                      |
| ----area_id             | 整型       | 是       | 区域ID                             |
| ----close_status        | 整型       | 是       | 关闭标志 1=打开 2=关闭             |
| ----close_user          | 整型       | 是       | 关闭人                             |
| ----close_time          | 整型       | 是       | 关闭时间                           |
| ----check_status        | 整型       | 是       | 审核通过(消项)状态 1=通过 2=不通过 |
| ----client_create_at    | 整型       | 是       | 客户端记录时间                     |
| ----update_at           | 整型       | 是       | 更新时间                           |
| ----delete_at           | 整型       | 是       | 删除时间                           |


## 42上报新增的描画区域

PATH: `{BASE_URL}/measure/report_region/`
Method: POST

| 字段          | 类型        | 是否必须 | 默认值 | 说明                                       |
|:--------------|:------------|:---------|:-------|:-------------------------------------------|
| report_uuid   | string      | 是       | 无     | 本次上传的唯一字符串，用于查询是否上传成功 |
| data          | struct list | 是       | 无     | 要上传的数据                               |
| - uuid        | string      | 是       | 无     | 描区唯一标识                               |
| - project_id  | int         | 是       | 无     | 所属Id                                     |
| - area_id     | int         | 是       | 无     | 所属区域Id                                 |
| - drawing_md5 | string      | 是       | 无     | 采用的图纸文件Md5                          |
| - polygon     | string      | 是       | 无     | 描点坐标，"`X,Y`"                          |

返回值：

| 字段          |    类型     | 说明           |
|:--------------|:-----------:|:---------------|
| dropped       | struct list | 被抛弃数据信息 |
| - uuid        |     key     | UUID           |
| - reason_type |     int     | 抛弃原因类型   |
| - reason      |   string    | 抛弃原因说明   |


## 43上报新增的测区

PATH: `{BASE_URL}/measure/report_zone/`
Method: POST

| 字段           | 类型        | 是否必须 | 默认值 | 说明                                       |
|:---------------|:------------|:---------|:-------|:-------------------------------------------|
| report_uuid    | string      | 是       | 无     | 本次上传的唯一字符串，用于查询是否上传成功 |
| data           | struct list | 是       | 无     | 要上传的数据                               |
| - uuid         | string      | 是       | 无     | 测区唯一标识                               |
| - project_id   | int         | 是       | 无     | 所属Id                                     |
| - list_id      | int         | 是       | 无     | 所属清单Id                                 |
| - region_uuid  | string      | 是       | 无     | 所属描区UUID                               |
| - category_key | string      | 是       | 无     | 所属任务类型Key                            |

返回值：

| 字段          |    类型     | 说明           |
|:--------------|:-----------:|:---------------|
| dropped       | struct list | 被抛弃数据信息 |
| - uuid        |     key     | UUID           |
| - reason_type |     int     | 抛弃原因类型   |
| - reason      |   string    | 抛弃原因说明   |


## 44 上报测区测量数据

PATH: `{BASE_URL}/measure/report_zone_result/`
Method: POST

| 字段                    | 类型          | 是否必须   | 默认值   | 说明                                                     |
| :----------------       | :------------ | :--------- | :------- | :-------------------------------------------             |
| report_uuid             | string        | 是         | 无       | 本次上传的唯一字符串，用于查询是否上传成功               |
| data                    | struct list   | 是         | 无       | 要上传的数据                                             |
| - uuid                  | string        | 是         | 无       | 测区测量数据唯一标识                                     |
| - project_id            | int           | 是         | 无       | 所属Id                                                   |
| - list_id               | int           | 是         | 无       | 所属清单Id                                               |
| - zone_uuid             | string        | 是         | 无       | 所属测区UUID                                             |
| - squad_id              | int           | 是         | 无       | 用户所在小队Id                                           |
| - rule_id               | int           | 是         | 无       | 计算时使用的规则Id                                       |
| - data                  | struct list   | 是         | 无       | 测区测量数据                                             |
| - - recorder_id         | int           | 是         | 无       | 记录者Id                                                 |
| - - update_at           | int           | 是         | 无       | 记录时间                                                 |
| - - texture             | string        |            |          | 测点类型（材质）                                         |
| - - data                | struct list   |            |          | 单名称测点测量结果                                       |
| - - - key               | string        | 是         | 无       | 测量点识别名    MeasurePointRule.Key                     |
| - - - data_type         | int           | 是         | 无       | 数据类型：1，boolean；2，整数(int)；14，浮点数（double） |
| - - - data              | string        | 是         | 无       | 数据列表，多个请用半角逗号“,”分隔                        |
| - - - design_value_reqd | bool          | 是         | 无       | 是否需要录入设计值                                       |
| - - - design_value      | double        |            |          | 设计值                                                   |

## 45 上报爆点issue数据
### API概述
|          功能         |                  路径                  | HTTP方法 |
| --------------------- | -------------------------------------- | -------- |
| 上报爆点issue数据 | `{BASE_URL}/api/measure/report_issue/` | POST     |

### 请求协议
|   字段名    |  类型  | 是否必填 |                            描述                           |
| ----------- | ------ | -------- | --------------------------------------------------------- |
| lang        | 整型   | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| report_uuid | 字符串 | 是       | 本次上传的唯一字符串，用于查询是否上传成功                |
| data        | 字符串 | 是       | 要上传的数据，json字符串                                  |
| project_id  | 整型   | 是       | 项目ID                                                    |

### 其它说明
没有改动的字段 int传`-1` 字符串传空字符`""`

### data字段的结构
|         字段名          |  类型  | 是否必填 |                描述                |
| ----------------------- | ------ | -------- | ---------------------------------- |
| ----id                  | 整型   | 是       | id                                 |
| ----uuid                | 字符串 | 是       | uuid                               |
| ----list_id             | 整型   | 是       | 任务ID                             |
| ----zone_uuid           | 字符串 | 是       | 测区uuid                           |
| ----issue_uuid          | 字符串 | 是       | 所属issue_uuid                     |
| ----sender_id           | 整型   | 是       | 提交人user_id                      |
| ----desc                | 字符串 | 是       | 问题描述                           |
| ----typ                 | 整型   | 是       | 问题类型                           |
| ----status              | 整型   | 是       | 问题状态                           |
| ----attachment_md5_list | 字符串 | 是       | 现场照片，多个用半角逗号“,”分隔    |
| ----plan_end_on         | 整型   | 是       | 计划完成时间                       |
| ----end_on              | 整型   | 是       | 完成时间                           |
| ----repairer_id         | 整型   | 是       | 整改人user_id                      |
| ----condition           | 整型   | 是       | 严重程度                           |
| ----category_key        | 字符串 | 是       | 任务类型KEY                        |
| ----drawing_md5         | 字符串 | 是       | 图纸文件Md5                        |
| ----pos_x               | 整型   | 是       | 图纸上的位置X                      |
| ----pos_y               | 整型   | 是       | 图纸上的位置Y                      |
| ----area_id             | 整型   | 是       | 区域ID                             |
| ----client_create_at    | 整型   | 是       | 客户端记录时间                     |
| ----close_status        | 整型   | 是       | 关闭标志 1=打开 2=关闭             |
| ----close_user          | 整型   | 是       | 关闭人                             |
| ----check_status        | 整型   | 是       | 审核通过(消项)状态 1=通过 2=不通过 |


## 46 读取验房报告数据 - get
### API概述

|       功能       |          路径          | HTTP方法 |
|------------------|------------------------|----------|
| 读取验房报告数据 | /api/repossession/get/ | POST     |

### 请求协议

|  字段名   |  类型  | 是否必填 |       描述      |
|-----------|--------|----------|-----------------|
| task_ids  | 字符串 | 是       | 任务ID，用,隔开 |
| timestamp | 整型   | 是       | 上次更新时间    |

### 响应协议

|               字段名                |    类型    | 是否必填 |            描述           |
|-------------------------------------|------------|----------|---------------------------|
| result                              | 整型       | 是       | 结果.0成功,非0失败        |
| message                             | 字符串     | 否       | 错误信息                  |
| data                                | 结构体     | 否       | 结果数据                  |
| --repossession_info                 | 结构体数组 | 否       | repossession_info         |
| ----id                              | 整型       | 是       | id                        |
| ----project_id                      | 整型       | 是       | 项目Id                    |
| ----task_id                         | 整型       | 是       | 任务ID                    |
| ----area_id                         | 整型       | 是       | 区域ID                    |
| ----area_path_and_id                | 字符串     | 是       | 区域path                  |
| ----house_owner_name                | 字符串     | 是       | 业主姓名                  |
| ----house_owner_phone                | 字符串     | 是       | 业主联系方式                 |
| ----status                          | 整型       | 是       | 验房结果状态              |
| ----status_client_update_at         | 整型       | 是       | 状态客户端变更时间        |
| ----has_take_key                    | 布尔型     | 是       | 是否托管钥匙              |
| ----trust_key_count                 | 整型       | 是       | 托管钥匙数                |
| ----key_client_update_at            | 整型       | 是       | 托管钥匙更新时间          |
| ----accompany_sign_md5_list         | 字符串     | 是       | 陪验签字图片              |
| ----accompany_sign_client_update_at | 整型       | 是       | 陪验更新时间              |
| ----sign_status                     | 整型       | 是       | 业主签字状态              |
| ----sign_comment                    | 字符串     | 是       | 拒绝收楼原因              |
| ----sign_md5_list                   | 字符串     | 是       | 业主签字图片              |
| ----sign_client_update_at           | 整型       | 是       | 客户端业主签字时间        |
| ----remark                          | 字符串     | 是       | 备注                      |
| ----expect_date                     | 整型       | 是       | 期望交楼时间              |
| ----repair_status                   | 整型       | 是       | 返修状态                  |
| ----repair_sign_md5_list            | 字符串     | 是       | 返修签字图片              |
| ----repair_client_update_at         | 整型       | 是       | 返修更新时间              |
| ----updated                         | 整型       | 是       | 最后更新时间              |
| ----deleted                         | 整型       | 是       | 删除时间                  |
| --repossession_meter_record         | 结构体数组 | 否       | repossession_meter_record |
| ----id                              | 整型       | 是       | id                        |
| ----uuid                            | 字符串     | 是       | Uuid                      |
| ----task_id                         | 整型       | 是       | 任务ID                    |
| ----area_id                         | 整型       | 是       | 区域ID                    |
| ----repossession_id                 | 整型       | 是       | 验房报告id                |
| ----meter_type                      | 整型       | 是       | 三表类型                  |
| ----content                         | 字符串     | 是       | 内容                      |
| ----drawing_md5_list                | 字符串     | 是       | 照片列表                  |
| ----client_write_at                 | 整型       | 是       | 客户端添加时间            |
| ----updated                         | 整型       | 是       | 最后更新时间              |
| ----deleted                         | 整型       | 是       | 删除时间                  |



## 47 获取时间选择范围 - get_daterange_options

### API概述
> String URL_STATISTICS_DATE_RANGE = "/v2/api/statistic/get_daterange_options";

|       功能       |                      路径                     | HTTP方法 |
|------------------|-----------------------------------------------|----------|
| 获取时间选择范围 | /api/houseqm_statistic/get_daterange_options/ | GET      |

### 请求协议

|  字段名   | 类型 | 是否必填 |     描述     |
|-----------|------|----------|--------------|
| timestamp | 整型 | 是       | 上次更新时间 |

### 响应协议

|  字段名   |    类型    | 是否必填 |         描述         |
|-----------|------------|----------|----------------------|
| result    | 整型       | 是       | 结果.0成功,非0失败   |
| message   | 字符串     | 否       | 错误信息             |
| data      | 结构体     | 否       | 结果数据             |
| --items   | 结构体数组 | 否       | items                |
| ----value | 整型       | 是       | 值                   |
| ----text  | 字符串     | 是       | 文字，如：本周、本月 |


## 48获取任务列表 - task_list

### API概述
> String URL_STATISTICS_GCJC_TASK_LIST = "/v2/api/statistic/project/get_task_list/gcjc";

> String URL_STATISTICS_YDYF_TASK_LIST = "/v2/api/statistic/project/get_task_list/ydyf";

|     功能     |                路径               | HTTP方法 |
|--------------|-----------------------------------|----------|
| 获取任务列表 | /api/houseqm_statistic/task_list/ | GET      |

### 请求协议

|   字段名   |  类型  | 是否必填 |           描述           |
|------------|--------|----------|--------------------------|
| project_id | 整型   | 是       | 项目ID                   |
| source     | 字符串 | 是       | app名称，如：ydyf、gcjc |
| timestamp  | 整型   | 是       | 上次更新时间             |

###  响应协议

|      字段名      |    类型    | 是否必填 |        描述        |
|------------------|------------|----------|--------------------|
| result           | 整型       | 是       | 结果.0成功,非0失败 |
| message          | 字符串     | 否       | 错误信息           |
| data             | 结构体     | 否       | 结果数据           |
| --items          | 结构体数组 | 否       | items              |
| ----id           | 整型       | 是       | 任务ID             |
| ----name         | 字符串     | 是       | 任务名称           |
| ----category_cls | 整型       | 是       | 任务类型           |


## 49任务汇总状态 - task_issue_stat

### API概述
> String URL_STATISTICS_GCJC_TASK_ISSUE_STATE = "/v2/api/statistic/task/issues_stat";

> String URL_STATISTICS_YDYF_TASK_ISSUE_STATE = "/v2/api/statistic/task/issues_stat/ydyf";

|     功能     |                   路径                  | HTTP方法 |
|--------------|-----------------------------------------|----------|
| 任务汇总状态 | /api/houseqm_statistic/task_issue_stat/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| project_id | 整型 | 是       | 项目ID                      |
| task_id    | 整型 | 是       | 任务ID                      |
| area_id    | 整型 | 否       | 区域ID，留空或为0则表示所有 |
| timestamp  | 整型 | 是       | 上次更新时间                |

### 响应协议

|           字段名           |  类型  | 是否必填 |        描述        |
|----------------------------|--------|----------|--------------------|
| result                     | 整型   | 是       | 结果.0成功,非0失败 |
| message                    | 字符串 | 否       | 错误信息           |
| data                       | 结构体 | 否       | 结果数据           |
| --item                     | 结构体 | 是       | item               |
| ----house_count            | 整型   | 是       | 户数               |
| ----issue_approveded_count | 整型   | 是       | 已消项问题数       |
| ----issue_assigned_count   | 整型   | 是       | 待整改问题数       |
| ----issue_count            | 整型   | 是       | 问题数             |
| ----issue_recorded_count   | 整型   | 是       | 待指派问题数       |
| ----issue_repaired_count   | 整型   | 是       | 已整改问题数       |
| ----record_count           | 整型   | 是       | 记录数             |

## 50项目整改追踪 - project_issue_repair

### API概述
> String URL_STATISTICS_GCJC_PROJECT_ISSUE_REPAIR = "/v2/api/statistic/project/issue_repaire_stat/gcjc";

> String URL_STATISTICS_YDYF_PROJECT_ISSUE_REPAIR = "/v2/api/statistic/project/issue_repaire_stat/ydyf";


|     功能     |                     路径                     | HTTP方法 |
|--------------|----------------------------------------------|----------|
| 项目整改追踪 | /api/houseqm_statistic/project_issue_repair/ | GET      |

### 请求协议

|   字段名   |  类型  | 是否必填 |           描述           |
|------------|--------|----------|--------------------------|
| project_id | 整型   | 是       | 项目ID                   |
| source     | 字符串 | 是       | app名称，如：ydyf、gcjc |
|area_id	 | 整型	  | 否 		｜区域id					｜
|begin_on	 | 整型	  | 否 		｜开始时间戳（例如：2016-10-03 00:00:00 对应的时间戳）｜
|end_on	 | 整型	  | 否 		｜结束时间戳（例如： 2017-02-03 23:59:59 所对应的时间戳）	｜
| timestamp  | 整型   | 是       | 上次更新时间             |

### 响应协议

|        字段名         |  类型  | 是否必填 |        描述        |
|-----------------------|--------|----------|--------------------|
| result                | 整型   | 是       | 结果.0成功,非0失败 |
| message               | 字符串 | 否       | 错误信息           |
| data                  | 结构体 | 否       | 结果数据           |
| --item                | 结构体 | 是       | item               |
| ----initime_finish          | 字符串 | 是       | 按期完成百分比     |
| ----initime_finish_count    | 整型   | 是       | 按期完成数量       |
| ----initime_unfinish        | 字符串 | 是       | 未超期未完成百分比 |
| ----initime_unfinish_count  | 整型   | 是       | 未超期未完成数量   |
| ----no_plan_end_on          | 字符串 | 是       | 未设置期限百分比   |
| ----no_plan_end_on_count    | 整型   | 是       | 未设置期限数量     |
| ----overtime_finish         | 字符串 | 是       | 超期完成百分比     |
| ----overtime_finish_count   | 整型   | 是       | 超期完成数量       |
| ----overtime_unfinish       | 字符串 | 是       | 超期未完成百分比   |
| ----overtime_unfinish_count | 整型   | 是       | 超期未完成数量     |


## 51任务问题按检查项统计 - task_checkitem_stat

### API概述
> String URL_STATISTICS_TASK_ISSUE_BY_CHECK_ITEM = "/v2/api/statistic/task/checkitem_stat";

|         功能         |                     路径                    | HTTP方法 |
|----------------------|---------------------------------------------|----------|
| 任务问题按检查项统计 | /api/houseqm_statistic/task_checkitem_stat/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |     描述     |
|------------|------|----------|--------------|
| project_id | 整型 | 是       | 项目ID       |
| task_id    | 整型 | 是       | 任务ID       |
|area_id	 | 整型	  | 否 		｜区域id					｜
|begin_on	 | 整型	  | 否 		｜开始时间戳（例如：2016-10-03 00:00:00 对应的时间戳）｜
|end_on	 | 整型	  | 否 		｜结束时间戳（例如： 2017-02-03 23:59:59 所对应的时间戳）	｜
| timestamp  | 整型 | 是       | 上次更新时间 |

### 响应协议

|     字段名      |    类型    | 是否必填 |        描述        |
|-----------------|------------|----------|--------------------|
| result          | 整型       | 是       | 结果.0成功,非0失败 |
| message         | 字符串     | 否       | 错误信息           |
| data            | 结构体     | 否       | 结果数据           |
| --items         | 结构体数组 | 否       | items              |
| ----key         | 字符串     | 是       | 检查项key          |
| ----name        | 字符串     | 是       | 检查项名称         |
| ----father_key  | 字符串     | 是       | 检查项父级key      |
| ----issue_count | 整型       | 是       | 问题数             |
| --date_type     | 整型       | 是       | 时间类型           |


## 52任务整改追踪 - task_issue_repair

### API概述
> String URL_STATISTICS_TASK_ISSUE_REPAIR = "/v2/api/statistic/task/issue_repaire_stat";

|     功能     |                    路径                   | HTTP方法 |
|--------------|-------------------------------------------|----------|
| 任务整改追踪 | /api/houseqm_statistic/task_issue_repair/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |     描述     |
|------------|------|----------|--------------|
| project_id | 整型 | 是       | 项目ID       |
| task_id    | 整型 | 是       | 任务ID       |
|area_id	 | 整型	  | 否 		｜区域id					｜
|begin_on	 | 整型	  | 否 		｜开始时间戳（例如：2016-10-03 00:00:00 对应的时间戳）｜
|end_on	 | 整型	  | 否 		｜结束时间戳（例如： 2017-02-03 23:59:59 所对应的时间戳）	｜
| timestamp  | 整型 | 是       | 上次更新时间 |

### 响应协议

|        字段名         |  类型  | 是否必填 |        描述        |
|-----------------------|--------|----------|--------------------|
| result                | 整型   | 是       | 结果.0成功,非0失败 |
| message               | 字符串 | 否       | 错误信息           |
| data                  | 结构体 | 否       | 结果数据           |
| --item                | 结构体 | 是       | item               |
| ----initime_finish          | 字符串 | 是       | 按期完成百分比     |
| ----initime_finish_count    | 整型   | 是       | 按期完成数量       |
| ----initime_unfinish        | 字符串 | 是       | 未超期未完成百分比 |
| ----initime_unfinish_count  | 整型   | 是       | 未超期未完成数量   |
| ----no_plan_end_on          | 字符串 | 是       | 未设置期限百分比   |
| ----no_plan_end_on_count    | 整型   | 是       | 未设置期限数量     |
| ----overtime_finish         | 字符串 | 是       | 超期完成百分比     |
| ----overtime_finish_count   | 整型   | 是       | 超期完成数量       |
| ----overtime_unfinish       | 字符串 | 是       | 超期未完成百分比   |
| ----overtime_unfinish_count | 整型   | 是       | 超期未完成数量     |

## 53整改追踪问题列表 - task_issue_repair_list
### API概述


|     功能     |                    路径                   | HTTP方法 |
|--------------|-------------------------------------------|----------|
| 任务整改追踪 | /api/houseqm_statistic/task_issue_repair_list/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |     描述     |
|------------|------|----------|--------------|
| project_id | 整型 | 是       | 项目ID       |
| task_id    | 整型 | 是       | 任务ID       |
| area_id	 | 整型	  | 否 		｜区域id					｜
| begin_on	 | 整型	  | 否 		｜开始时间戳（例如：2016-10-03 00:00:00 对应的时间戳）｜
| end_on	 | 整型	  | 否 		｜结束时间戳（例如： 2017-02-03 23:59:59 所对应的时间戳）	｜
| timestamp  | 整型 | 是       | 上次更新时间 |
| plan_status| 整型 | 是       | 计划状态，（1、按期完成 2、未超期未完成  3、未设置期限 4、超期完成 5、超期未完成  ） |

### 响应协议
|             字段名             |    类型    | 是否必填 |                                                                    描述                                                                   |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                                        |
| message                        | 字符串     | 否       | 错误信息                                                                                                                                  |
| data                           | 结构体     | 否       | 结果数据                                                                                                                                  |
| --issue_list                   | 结构体数组 | 否       | issue_list                                                                                                                                |
| ----id                         | 整型       | 是       | ID                                                                                                                                        |
| ----project_id                 | 整型       | 是       | 项目ID                                                                                                                                    |
| ----task_id                    | 整型       | 是       | 任务ID                                                                                                                                    |
| ----uuid                       | 字符串     | 是       | 问题uuid                                                                                                                                  |
| ----area_path_name             | 字符串     | 是       | 区域完整路径名称                                                                                                                              |
| ----category_path_name         | 字符串数组     | 是       | 任务类型路径名称                                                                                                                         |
| ----check_item_path_name       | 字符串数组     | 是       | 检查项路径名称                                                                                                                          |
| ----title                      | 字符串     | 是       | 问题标题                                                                                                                                  |
| ----typ                        | 整型       | 是       | 99 普通记录；1 问题记录                                                                                                                   |
| ----content                    | 字符串     | 是       | 问题描述                                                                                                                                  |
| ----condition                  | 整型       | 是       | 问题严重程度  1 严重 2 较差 3 轻微                                                                                                        |
| ----status                     | 整型       | 是       | 整改状态：当前issue状态 10 没有问题 20 已记录未分配 30 已分配未整改 50 已整改未审核 60 已审核（消项） 70已取消 6=整改中（介乎于2和3之间） |
| ----attachment_url_list        | 字符串     | 是       | 产生Issue时的现场照片，多个用半角逗号“,”分隔                                                                                              |
| ----client_create_at           | 整型       | 是       | 客户端记录时间                                                                                                                            |
| ----update_at                  | 整型       | 是       | 更新时间                                                                                                                           |


## 54获取楼栋／顶级区域列表 - project_building_list

### API概述
> String URL_STATISTICS_PROJECT_BUILDING_LIST = "/v2/api/statistic/project/building/list";

|          功能          |                      路径                     | HTTP方法 |
|------------------------|-----------------------------------------------|----------|
| 获取楼栋／顶级区域列表 | /api/houseqm_statistic/project_building_list/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |     描述     |
|------------|------|----------|--------------|
| project_id | 整型 | 是       | 项目ID       |
| timestamp  | 整型 | 是       | 上次更新时间 |

### 响应协议

|  字段名  |    类型    | 是否必填 |        描述        |
|----------|------------|----------|--------------------|
| result   | 整型       | 是       | 结果.0成功,非0失败 |
| message  | 字符串     | 否       | 错误信息           |
| data     | 结构体     | 否       | 结果数据           |
| --items  | 结构体数组 | 否       | items              |
| ----id   | 整型       | 是       | 楼栋ID             |
| ----name | 字符串     | 是       | 楼栋名称           |


## 55 获取楼栋／顶级区域列表 - task_building_list

### API概述
> String URL_STATISTIC_TASK_BUILDING_LIST = "/v2/api/statistic/task/building/list";

|          功能          |                    路径                    | HTTP方法 |
|------------------------|--------------------------------------------|----------|
| 获取楼栋／顶级区域列表 | /api/houseqm_statistic/task_building_list/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |     描述     |
|------------|------|----------|--------------|
| project_id | 整型 | 是       | 项目ID       |
| task_id    | 整型 | 是       | 任务ID       |
| timestamp  | 整型 | 是       | 上次更新时间 |

### 响应协议

|  字段名  |    类型    | 是否必填 |        描述        |
|----------|------------|----------|--------------------|
| result   | 整型       | 是       | 结果.0成功,非0失败 |
| message  | 字符串     | 否       | 错误信息           |
| data     | 结构体     | 否       | 结果数据           |
| --items  | 结构体数组 | 否       | items              |
| ----id   | 整型       | 是       | 楼栋ID             |
| ----name | 字符串     | 是       | 楼栋名称           |

## 56 任务概况页统计 - task_stat


### API概述

> String URL_STATISTIC_TASK_STAT_FHYS = "/v2/api/statistic/task/stat/fhys";

> String URL_STATISTIC_TASK_BUILDING_STAT_FHYS = "/v2/api/statistic/task/building/stat/fhys";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| 任务概况页统计 | /api/houseqm_statistic/task_stat/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| project_id | 整型 | 是       | 项目ID                      |
| task_id    | 整型 | 是       | 任务ID                      |
| area_id    | 整型 | 否       | 区域ID，留空或为0则表示所有 |
| timestamp  | 整型 | 是       | 上次更新时间                |

### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --item                       | 结构体 | 是       | item               |
| ----house_count              | 整型   | 是       | 总户数             |
| ----checked_count            | 整型   | 是       | 查验户数           |
| ----has_issue_count          | 整型   | 是       | 查验有问题户数     |
| ----repaired_count           | 整型   | 是       | 已整改户数         |
| ----approved_count           | 整型   | 是       | 已销项户数         |
| ----house_checked_percent    | 字符串 | 是       | 户查验进度         |
| ----house_repaired_percent   | 字符串 | 是       | 户整改进度         |
| ----house_approveded_percent | 字符串 | 是       | 户销项进度         |


## 57任务概况页统计（入伙验房单独接口） - rhyf_task_stat

### API概述
> String URL_STATISTIC_TASK_STAT_FHYS = "/v2/api/statistic/task/stat/rhyf";

> String URL_STATISTIC_TASK_BUILDING_STAT_FHYS = "/v2/api/statistic/task/building/stat/rhyf";

|                功能                |                  路径                  | HTTP方法 |
|------------------------------------|----------------------------------------|----------|
| 任务概况页统计（入伙验房单独接口） | /api/houseqm_statistic/rhyf_task_stat/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| project_id | 整型 | 是       | 项目ID                      |
| task_id    | 整型 | 是       | 任务ID                      |
| area_id    | 整型 | 否       | 区域ID，留空或为0则表示所有 |
| timestamp  | 整型 | 是       | 上次更新时间                |

### 响应协议

|              字段名              |  类型  | 是否必填 |                     描述                     |
|----------------------------------|--------|----------|----------------------------------------------|
| result                           | 整型   | 是       | 结果.0成功,非0失败                           |
| message                          | 字符串 | 否       | 错误信息                                     |
| data                             | 结构体 | 否       | 结果数据                                     |
| --item                           | 结构体 | 是       | item                                         |
| ----house_count                  | 整型   | 是       | 总户数                                       |
| ----checked_count                | 整型   | 是       | 查验户数                                     |
| ----has_issue_count              | 整型   | 是       | 有问题户数                                   |
| ----repaired_count               | 整型   | 是       | 已整改户数                                   |
| ----approved_count               | 整型   | 是       | 已销项户数                                   |
| ----repair_confirm_count         | 整型   | 是       | 维修确认户数                                 |
| ----accept_has_issue_count       | 整型   | 是       | 已收楼中有问题的户数                         |
| ----accept_no_issue_count        | 整型   | 是       | 已收楼中无问题的户数                         |
| ----accept_approved_count        | 整型   | 是       | 已收楼且所有问题已销项的户数（维修确认的分母 |
| ----only_watch_count             | 整型   | 是       | 仅看房                                       |
| ----reject_count                 | 整型   | 是       | 拒绝收房数                                   |
| ----house_checked_percent        | 字符串 | 是       | 户查验进度                                   |
| ----house_repaired_percent       | 字符串 | 是       | 户整改进度                                   |
| ----house_approveded_percent     | 字符串 | 是       | 户销项进度                                   |
| ----house_repair_confirm_percent | 字符串 | 是       | 户维修确认进度                               |

## 58 拉取整改预设信息（全接口）
## API概述
|      功能     |            路径            | HTTP方法 |
| ------------- | -------------------------- | -------- |
| fixing_preset | /api/common/fixing_preset/ | GET      |
### 请求协议
|   字段名   | 类型 | 是否必填 |                            描述                           |
| ---------- | ---- | -------- | --------------------------------------------------------- |
| lang       | 整型 | 否       | 语言 取值范围及含义：<br/>1 - 简体中文; <br/>2 - English; |
| project_id | 整型 | 是       | 项目ID                                                    |
### 响应协议
|        字段名         |    类型    | 是否必填 |             描述             |
| --------------------- | ---------- | -------- | ---------------------------- |
| result                | 整型       | 是       | 结果.0成功，非0失败          |
| message               | 字符串     | 否       | 错误信息                     |
| data                  | 结构体     | 否       | 结果数据                     |
| --items               | 结构体数组 | 否       | 整改预设列表，不包含已删除项 |
| ----uuid              | 字符串     | 是       | 自定义的唯一ID               |
| ----project_id        | 整型       | 是       | 项目ID                       |
| ----area_id           | 整型       | 是       | 楼栋ID/顶级区域ID            |
| ----root_category_key | 字符串     | 是                                     ||
| ----category_key      | 字符串     | 是                                     ||
| ----check_item_key    | 字符串     | 是                                     ||
| ----user_ids          | 字符串     | 是       | 用户ID列表，逗号分隔         |
| ----days              | 整型       | 是       | 整改期限（天数），为0不限制  |

## 59 获取指定集团实测实量的任务类型
PATH: `{BASE_URL}/info/category/`
Method: GET
说明：获取指定集团实测实量的任务类型，此为全量接口

请求参数:

| 字段     |  类型  | 是否必须 | 默认值 | 说明                              |
|:---------|:------:|:--------:|:------:|:----------------------------------|
| team_ids | string |    是    |   无   | 公司ID，多可id请用半角逗号“,”分隔 |


返回值：

| 字段               |    类型     | 说明                               |
|:-------------------|:-----------:|:-----------------------------------|
| category_list      | struct list | 任务类型列表                       |
| - id               |     int     | ID                                 |
| - father_key       |   string    | 上级Key                            |
| - key              |   string    | 唯一编码                           |
| - path             |   string    | 所在路径                           |
| - cls              |     int     | 任务类型分类 1=关键工序 2=实测实量 |
| - root_category_id |     int     | 顶级任务类型分类                   |
| - team_id          |     int     | 集团ID                             |
| - order            |   string    | 排序编号                           |
| - name             |   string    | 类型名称                           |
| - desc             |   string    | 说明                               |
| - update_at        |     int     | 更新时间                           |
| - delate_at        |     int     | 删除时间(`0`表示未删除)            |


## 60 上报验房报告数据 - report
### API概述

|       功能       |            路径           | HTTP方法 |
|------------------|---------------------------|----------|
| 上报验房报告数据 | /api/repossession/report/ | POST     |

### 请求协议

| 字段名 |  类型  | 是否必填 |                                                                                                                                                                                                                                                                                                                                                                      描述                                                                                                                                                                                                                                                                                                                                                                     |
|--------|--------|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| data   | 字符串 | 是       | 上报验房数据json ;[]Array {project_id : int, task_id : int, area_id : int, report_type : int, area_path_and_id : string, has_take_key : bool, trust_key_count : int, key_client_update_at : int, accompany_sign_md5_list : string, accompany_sign_client_update_at : int, sign_status : int, sign_comment : string, sign_md5_list : string, sign_client_update_at : int, repossession_status : int, status_client_update_at : int, remark : string, expect_date : int, repair_status : int, repair_sign_md5_list : string, repair_client_update_at : int, meter_record : []Array {is_new : int, id : int, uuid: string, task_i : int, area_i : int, meter_type : int, content : string, drawing_md5_list : string, client_write_at : int, } } |

### 响应协议

| 字段名  |  类型  | 是否必填 |        描述        |
|---------|--------|----------|--------------------|
| result  | 整型   | 是       | 结果.0成功,非0失败 |
| message | 字符串 | 否       | 错误信息           |
| data    | 结构体 | 否       | 结果数据           |

## 61 上传自定义log
PATH: `{BASE_URL}/v2/api/log/report`  
Method: POST  
说明：上传自定义log接口

请求参数:  

| 字段  |  类型  | 是否必须 | 默认值 | 说明  |
|:------|:------:|:--------:|:------:|:------|
| app_version | string |    是    |   无   | app版本
| client_create_at | string |    是    |   无   |
| detail| string |    是    |   无   |
| device_id| string |    是    |   无   |设备id
| mobile_model| string |    是    |   无   |手机型号
| primary_key| string |    是    |   无   |
| product| string |    是    |   无   |模块名
| secondary_key| string |    是    |   无   |
| system| string |    是    |   无   |手机系统
| system_version| string |    是    |   无   |手机版本
| user_id| string |    是    |   无   |user_id

返回值：无


## 62 统计-api
PATH: `{BASE_URL}/gapi/v3/stat_measure/api_area`  
Method: GET  
说明：统计-获取整改追踪问题列表

请求参数:  

| 字段  |  类型  | 是否必须 | 默认值 | 说明  |
|:------|:------:|:--------:|:------:|:------|
| query | string |    是    |   无   | 
| token | string |    是    |   无   |



### 响应协议
|             字段名             |    类型    | 是否必填 |                                                                    描述                                                                   |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                                        |
| message                        | 字符串     | 否       | 错误信息                                                                                                                                  |
| data                           | 结构体     | 否       | 结果数据                                                                                                                                  |
| --issueList                         | 集合       | 是       | 整改追踪问题列表                                                                                                                                       |
| ----id                         | 整型       | 是       | id
| ----uuid                         | 字符串       | 是       |
| ----project_id                  | 字符串       | 是       |
| ----categoryKey                         | 整型       | 是       |
| ----categoryName                         | 字符串       | 是       |
| ----categoryPathAndKey                         | 字符串       | 是       |
| ----list                         | 整型       | 是       |
| ----zoneUuid                         | 字符串       | 是       |
| ----areaId                         | 整型       | 是       |
| ----areaName                         | 字符串       | 是       |
| ----areaPathAndId                         | 字符串       | 是       |
| ----areaPathName                         | 字符串       | 是       |
| ----squadId                         | 整型       | 是       |
| ----squadName                         | 字符串       | 是       |
| ----senderId                         | 整型       | 是       |
| ----senderName                         | 字符串       | 是       |
| ----repairerId                         | 整型       | 是       |
| ----repairerName                         | 字符串       | 是       |
| ----typ                         | 整型       | 是       |
| ----status                         | 整型       | 是       |
| ----logs                         | 集合       | 是       |日志列表
| ------id                         | 整型       | 是       | id
| ------uuid                         | 字符串       | 是       |
| ------issueUuid                         | 字符串       | 是       |
| ------desc                         | 字符串       | 是       |
| ------list                         | 整型       | 是       |
| ------sender                         | 整型       | 是       |
| ------senderName                         | 字符串       | 是       |
| ------typ                         | 整型       | 是       |
| ------status                         | 整型       | 是       |
| ------attachmentMd5List                         | 字符串       | 是       |
| ------attachmentMd5ListUrl                         | 字符串       | 是       |
| ------categoryKey                         | 字符串       | 是       |
| ------detail                         | 字符串       | 是       |
| ------clientCreateAt                         | 字符串       | 是       |
| ----planEndOn                         | 整型       | 是       |
| ----endOn                         | 整型       | 是       |
| ----drawingMd5                         | 字符串       | 是       |
| ----posX                         | 整型       | 是       |
| ----posY                         | 整型       | 是       |
| ----desc                         | 字符串       | 是       |
| ----condition                         | 整型       | 是       |
| ----attachmentMd5List                         | 字符串       | 是       |
| ----lastAssigner                         | 整型       | 是       |
| ----lastAssignerAt                         | 整型       | 是       |
| ----destroyUser                         | 字符串       | 是       |
| ----destroyAt                         | 字符串       | 是       |
| ----closeStatus                         | 整型       | 是       |
| ----closeUser                         | 整型       | 是       |
| ----closeTime                         | 整型       | 是       |
| ----clientCreateAt                         | 字符串       | 是       |
| ----regionUuid                         | 字符串       | 是       |
| ----polygonX                         | 整型       | 是       |
| ----polygonY                         | 整型       | 是       |


## 63


### API概述

> String URL_STATISTIC_TASK_STAT_FHYS = "/v3/api/info/user_control_limits/";

> String URL_STATISTIC_TASK_BUILDING_STAT_FHYS = "/v3/api/info/user_control_limits/";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| -- | /v3/api/info/user_control_limits/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| category_clses | 字符串  | 是       | 检查项类别  若有多个“,”分隔  |
| device_id          | 字符串  | 否       | 设备ID                      |
| project_ids        | 字符串  | 是       | 项目ID                     |
| token                | 字符串   | 否      |用户token 没有就不传 |
| timestamp        | 整型 | 是       | 上次更新时间                |

### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| timestamp               | 整型 | 是       | 更新时间                |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --items                       | 结构体 | 是       | items               |
| ----id              | 整型   | 是       | id            |
| ----team_id            | 整型   | 是       | 公司id           |
| ----project_id          | 整型   | 是       | 项目id     |
| ----user_id           | 整型   | 是       |  --         |
| ----category_cls           | 整型   | 是       | 检查项类别id         |
| ----area_ids    | 字符串 | 是       |区域id   多个“,”分隔    |
| ----area_path_and_ids   | 字符串 | 是       | 区域路径   多个“,”分隔      |
| ----category_keys | 字符串 | 是       | 检查项id     多个“,”分隔     |
| ----category_path_and_keys | 字符串 | 是       | 检查项路径   多个“,”分隔      |
| ----update_at | 整型 | 是       | 更新时间         |
| ----delete_at | 整型 | 是       |  删除时间        |

## 64 检测更新  check_update


### API概述

> String URL_STATISTIC_TASK_STAT_FHYS = "/buildingqm/v3/papi/check_update/check/";

> String URL_STATISTIC_TASK_BUILDING_STAT_FHYS = "/buildingqm/v3/papi/check_update/check/";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| -- | /buildingqm/v3/papi/check_update/check/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| task_id | 整型  | 是       | 任务ID  |
| issue_log_update_time | 整型 | 是       |  问题日志更新时间  |
| issue_members_update_time        | 整型  | 是       | 问题成员更新时间                     |
| issue_update_time | 整型 | 是       | 问题更新时间  |
| task_members_update_time | 整型  | 是       | 任务成员更新时间  |
| task_update_time | 整型  | 是       | 任务更新时间  |
| device_id          | 字符串  | 否       | 设备ID                      |
| token                | 字符串   | 否      |用户token 没有就不传 |

### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| timestamp        | 整型 | 是       | 更新时间                |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --item                       | 结构体 | 是       | item               |
| ----task              | 整型   | 是       | 任务      0需要更新,非0不需要更新     |
| ----issue            | 整型   | 是       | 问题      0需要更新,非0不需要更新     |
| ----issue_log          | 整型   | 是       | 问题日志  0需要更新,非0不需要更新   |
| ----task_members           | 整型   | 是       |  任务成员   0需要更新,非0不需要更新     |
| ----issue_members           | 整型   | 是       | 问题成员   0需要更新,非0不需要更新      |

## 65 获取项目工序管理相关设置列表
PATH: `{BASE_URL}/v3/api/project/setting/`  
Method: GET
说明：工序管理的同步系列接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
                                   |
| project_id | string | 是       | 无     |所有项目id以逗号拼接的字符串 NSString *pidStr = [pids componentsJoinedByString:@","]                           |


返回值：

|          字段         |     类型    |                              说明                              |
| :-------------------- | :---------: | :------------------------------------------------------------- |
| response_timestamp               |     int     |                       |
| setting    | setting list | 设置列表                                               |
| - id                 |     int     |                                                             |
| - project_id                |    int   |                                                  |
| - parent_id          |     int     |                                                          |
| - s_module         |    string   |                                                      |
| - s_type         |     int     |                                                       |
| - main_type             |     int     |                                                   |
| - s_key           |     string     |                                                   |
| - value              |     string     |  |
| - order                |    int   |                                                           |
| - update_at |    int   |                              |
| - delete_at    |     int     |                                               |

## 66 上传验房检查报告
PATH: `{BASE_URL}/v3/api/repossession/report/`  
Method: POST
说明：上传验房报告列表， 

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
|
| report_uuid | string | 是       | 无     |设备唯一标识                           |
| data | string | data       | 是     |验房报告s数组转为 json                   |


返回值：

|          字段         |     类型    |                              说明                              |
| :-------------------- | :---------: | :------------------------------------------------------------- |
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                 | 字符串 | 否       | 错误信息           |


## 67 获取工序属性api
PATH: `{BASE_URL}/v3/api/key_procedure/category_property/`
Method: GET
说明：获取工序属性接口

请求参数:  

| 字段  |  类型  | 是否必须 | 默认值 | 说明  |
|:------|:------:|:--------:|:------:|:------|
| token | string |    是    |   无   | token
| team_id | string |    是    |   无   |
| root_category_key| string |    是    |   无   |category的key
| timestamp| string |    是    |   无   |上次更新时间戳


### 响应协议
|             字段名             |    类型    | 是否必填 |                                                                    描述                                                                   |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                                        |
| message                        | 字符串     | 否       | 错误信息                                                                                                                                  |
| data                           | 结构体     | 否       | 结果数据                                                                                                                                  |
| --items                         | 集合       | 是       | 工序类型属性列表                                                                                                                                       |
| ----id                         | 整型       | 是       | id
| ----team_id                         | 整型       | 是       |
| ----root_category_key                  | 字符串       | 是       |
| ----category_key                         | 整型       | 是       |
| ----typ                         | 字符串       | 是       |工序类型 ：1，关键工序；99，一般工序
| ----figure_progress                         | 字符串       | 是       |形象进度相关工序 ：99，形象进度无关；10，形象进度相关
| ----update_at                         | 整型       | 是       |
| ----delete_at                         | 整型       | 是       |


## 68 获取项目成员信息
PATH: `{BASE_URL}/v3/api/project/members/`  
Method: GET
说明：获取检查/抽查记录列表，此为增量接口

请求参数:  

| 字段        | 类型   | 是否必须 | 默认值 | 说明                                |
| :---------- | :----: | :------: | :----: | :---------------------------------- |
| project_id  | 整型   | 是       | 项目ID |                                     |
| device_id  | string | 是       | 无     |                           |
| token        | int      | 是        | 无     |                         |
	
返回值：

|          字段         |     类型    |                    说明                   |
| :-------------------- | :---------: | :---------------------------------------- |
| delete_at               |     int          | 删除时间 |
| email                     |   string       |邮箱                         |
| - id                        |     int          |                                           |
| - mobile                |    int           | 手机号码                              |
| - real_name          |     string     | 成员姓名                                    |
| - update_at          |     int           | 更新时间                                  |
| - user_name         |     int          | 用户名                                    |
| - result                 |     int           |                        |
| - timestamp         |     int           |                 |

## 69 检测项目

PATH: `{BASE_URL}/v3/api/info/check_item_v3/`  
Method: GET
说明：检测项目以及区域

请求参数:  

| 字段                  | 类型        | 是否必须 | 默认值 | 说明                                                                               |
| :-------------------- | :---------: | :------: | :----: | :--------------------------------------------------------------------------------- |
| category_cls           | string      | 是       | 无     |模块类型
| device_id               | struct list | 是       | 无     | 
|team_id                  | string       | 是        | 无     |   
| - timestamp           | string      | 是       | 无     | 
|token                      | string       | 是       | 无     |   
返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| id                        | int   |           |
|father_key           | string    |           |
| key     | string list   |           |
| path     | string list   |           |
| cls     | string    |           |
| root_category_id     | string list   |           |
| team_id     | string list   |           |
| order     | string |           |
| name     | string   |           |
| desc     | string  |           |
| node_status     | int   |           |
| update_at     | int   |         |
| delete_at     | int   |         |

## 70

PATH: `{BASE_URL}/v3/api/key_procedure/issue/`  
Method: GET
说明：上报施工日志

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                                           |
|:----------------------|:-----------:|:--------:|:------:|:---------------------------------------------------------------|
| task_id           |   string list    |    是    |   无   |                      |
| project_id           |   string list    |    是    |   无   |                      |
| token           |   string list    |    是    |   无   |                      |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| issue_list     |    |          |
| issue_log_list     |    |          |
| work_task_list     |    |          |
| work_task_log_list     |    |          |
| record_list     |    |          |
| record_log_list     |    |          |
| complete_record_list     |    |          |
| complete_record_log_list     |    |          |
| check_record_list     |    |          |

## 71

PATH: `{BASE_URL}/v3/api/key_procedure/data_my_task_list/`  
Method: POST
说明：上报工作日志

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                                               |
|:----------------------|:-----------:|:--------:|:------:|:-------------------------------------------------------------------|
| big_task_id           |   struct list   |    是    |   无   | 
|device_id              |   struct list   |    是    |   无   | 
| last_id                  | struct list |    是    |   无   |                                              |
| - project_id                |   string list    |    是    |   无   |                                                       |
| - timestamp         |   int    |    是    |   无   |                                                        |
| - token         |     int     |    是    |   无   |                                                            |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| id     | int   |          |
| project_id     | int   |          |
| big_task_id     |int |          |
| production_manager_id     | int  |          |
| person_in_charge_id     | int   |          |
| inspection_lot_id     | int   |          |
| category_key     | string   |          |
| category_path_and_key     | string list   |          |
| work_status     | int   |          |
| check_status     |int  |          |
| spot_check_status     | int   |          |
| check_reject_count     | int  |          |
| spot_check_count     | int  |          |
| checker_group_id     | int   |          |
| worker_group_id     | int   |          |
| spot_checker_group_id     | string   |          |
| plan_start_on     | string list   |          |
| plan_end_on     | int   |          |
| update_at     |int  |          |
| delete_at     | int   |          |


## 72

PATH: `{BASE_URL}/v3/api/key_procedure/check_item_property/`  
Method: GET
说明：上报工作日志

请求参数:  

| 字段                  |    类型     | 是否必须 | 默认值 | 说明                                                               |
|:----------------------|:-----------:|:--------:|:------:|:-------------------------------------------------------------------|
| root_category_key           |   string    |    是    |   无   | 
|device_id                          |   string    |    是    |   无   | 
| team_id                            | int  |    是    |   无   |                                                                                                   
| - timestamp         |   int    |    是    |   无   |  |
| - token         |     int     |    是    |   无   |                                                         |

返回值：

| 字段             | 类型          | 说明                      |
| :--------------- | :-----------: | :------------------------ |
| id     | int   |          |
| team_id     | int   |          |
| root_category_key     |string |          |
| category_key     | string  |          |
| check_item_key     | string   |          |
| photo_before_report     | BOOL   |          |
| photo_before_check_ok     | BOOL   |          |
| record_before_report     | BOOL list   |          |
| record_before_check_ok     | BOOL   |          |
| action     |int  |          |
| typ     | int   |          |
| requirement     | int  |          |
| limit     | int  |          |
| requirelimit     | int   |          |
| update_at     | int   |          |
| delete_at     | int   |          |

## 73 整改追踪问题列表工程新版统计的问题列表api
PATH: `{BASE_URL}/v3/api/houseqm_statistic/category_issue_list/`
Method: GET
说明：整改追踪问题列表工程新版统计的问题列表接口

请求参数:  

| 字段  |  类型  | 是否必须 | 默认值 | 说明  |
|:------|:------:|:--------:|:------:|:------|
| token | string |    是    |   无   | token
| project_id | string |    是    |   无   |
| category_key| string |    是    |   无   |
| area_id| string |    是    |   无   |
| page| string |    是    |   无   |分页页数
| page_size| string |    是    |   无   |每页数量


### 响应协议
|             字段名             |    类型    | 是否必填 |                                                                    描述                                                                   |
|--------------------------------|------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| result                         | 整型       | 是       | 结果.0成功,非0失败                                                                                                                        |
| message                        | 字符串     | 否       | 错误信息                                                                                                                                  |
| data                           | 结构体     | 否       | 结果数据                                                                                                                                  |
| --total                         | 整型       | 是       |
| --issue_list                         | 集合       | 是       | 整改追踪问题列表                                                                                                                                       |
| ----id                         | 整型       | 是       | id
| ----project_id                         | 整型       | 是       |
| ----task_id                  | 整型       | 是       |
| ----uuid                         | 字符串       | 是       |
| ----area_path_name                         | 字符串列表       | 是       |
| ----category_path_name                         | 字符串列表       | 是       |
| ----check_item_path_name                         | 字符串列表       | 是       |
| ----title                         | 字符串       | 是       |
| ----typ                         | 整型       | 是       |
| ----content                         | 字符串       | 是       |
| ----condition                         | 整型       | 是       |
| ----status                         | 整型       | 是       |
| ----client_create_at                         | 整型       | 是       |
| ----plan_end_on                         | 整型       | 是       |
| ----update_at                         | 整型       | 是       |
| ----attachment_url_list                         | 字符串列表       | 是       |


## 74楼栋-category-状态 


### API概述

> String STATISTICS_CATEGORY_AREA_STATUS_PORT = "/v3/api/key_procedure/stat_category_area_situation/";

> String STATISTICS_CATEGORY_AREA_STATUS_URL= "/v3/api/key_procedure/stat_category_area_situation/";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| 获取楼栋区域状态 | /v3/api/key_procedure/stat_category_area_situation/ | GET      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| token | 字符串 | 是       | 项目ID     
| project_id | 字符串 | 是       | 项目ID                      |
| category_key    | 字符串 | 是       |                    |
| area_id    | 字符串 | 是       | 区域ID，留空或为0则表示所有 |
| area_type  | 字符串 | 是       | 区域类型              |

### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --item                       | 结构体 | 是       | item               |
| ----area_id              | 整型   | 是       | 区域id             |
| ----situation            | 整型   | 是       | 状态       |

## 75 获取项目列表 


### API概述

> String STATISTICS_PROJECT_LIST_PORT = "/gapi/v3/stat_key_procedure/project";

> String STATISTICS_PROJECT_LIST_URL= "/gapi/v3/stat_key_procedure/project";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| 获取项目列表  | /gapi/v3/stat_key_procedure/project/ | POST     |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|POST
| token | 字符串 | 是       | 项目ID     
| query | 字符串 | 是       |                 |


### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --project                       | 结构体 | 是       | item               |


## 76 获取项目的质量统计


### API概述

> String STATISTICS_QUALITY_PORT = "/gapi/v3/stat_key_procedure/stat/quality";

> String STATISTICS_QUALITY_URL= "/gapi/v3/stat_key_procedure/stat/quality";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| 获取项目的质量统计 | /gapi/v3/stat_key_procedure/stat/quality/ | POST     |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|POST
| token | 字符串 | 是       | 项目ID     
| query | 字符串 | 是       |                 |


### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --item                       | 结构体 | 是       | item               |
| --taskOnePassRate  |double | 是       |               |
| --issueRepairedRate  |double | 是       |               |
| --issueRepairedOntimeRate  |double | 是       |               |
| --taskUnconstructCount  |整型 | 是       |               |
| --taskConstructingCount  |整型 | 是       |               |
| --taskConstructedCount  |整型 | 是       |               |
| --taskCheckedCount  |整型 | 是       |               |
| --issueCount  |整型 | 是       |               |


## 77 获取区域列表


### API概述

> String STATISTICS_AREA_LIST_PORT = "/gapi/v3/stat_key_procedure/area";

> String STATISTICS_AREA_LIST_URL= "gapi/v3/stat_key_procedure/area";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
|获取区域列表 | /gapi/v3/stat_key_procedure/area/ | POST     |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|POST
| token | 字符串 | 是       | 项目ID     
| query | 字符串 | 是       |                 |


### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --StatisticsArea                       | 结构体 | 是       | item               |
| --id  |long | 是       |           楼栋id   |
| --projId  |整型 | 是       |               |
| --name  |字符串 | 是       |               |
| --typ   |字符串 | 是       |               |
| --orderBy  |整型 | 是       |               |
| --fatherId  |整型 | 是       |               |

## 78 获取区域详情


### API概述

> String AREA_PROCEDURE_DETAIL_PORT = "gapi/v3/stat_key_procedure/stat/process";

> String AREA_PROCEDURE_DETAIL_URL= "gapi/v3/stat_key_procedure/stat/process";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| 获取统计楼栋进度(到层) | /gapi/v3/stat_key_procedure/stat/process | POST     |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|POST
| token | 字符串 | 是       | 项目ID     
| query | 字符串 | 是       |                 |


### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |
| data                         | 结构体 | 否       | 结果数据           |
| --AreaProcedureDetail                       | 结构体 | 是       | item               |
| --areaId  |long | 是       |           楼栋id   |
| --areaFatherId  |整型 | 是       |               |
| --areaName  |字符串 | 是       |               |
| --taskUnconstructCount   |整型 | 是       |               |
| --taskConstructingCount  |整型 | 是       |               |
| --taskConstructedCount  |整型 | 是       |               |
| --taskCheckedCount  |整型 | 是       |               |
| --taskSpotCheckedCount  |整型 | 是       |               |

## 79


### API概述

> String URL_STATISTIC_TASK_STAT_FHYS = "/v3/api/repossession/report/";

> String URL_STATISTIC_TASK_BUILDING_STAT_FHYS = "/v3/api/repossession/report/";

|      功能      |                路径               | HTTP方法 |
|----------------|-----------------------------------|----------|
| -- | /v3/api/repossession/report/ | POST      |

### 请求协议

|   字段名   | 类型 | 是否必填 |             描述            |
|------------|------|----------|-----------------------------|
| report_uuid | 整型  | 是       | 任务ID  |
| data |  file | 是       |  改动数组转成的jsonData  |

### 响应协议

|            字段名            |  类型  | 是否必填 |        描述        |
|------------------------------|--------|----------|--------------------|
| result                       | 整型   | 是       | 结果.0成功,非0失败 |
| message                      | 字符串 | 否       | 错误信息           |